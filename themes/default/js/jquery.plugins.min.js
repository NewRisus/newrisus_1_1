/*
    Risus2
	jQuery Plugins
	MINIFIED
*/

/* Jquery Cookies */
jQuery.cookie=function(e,i,o){if("undefined"==typeof i){var n=null;if(document.cookie&&""!=document.cookie)for(var r=document.cookie.split(";"),t=0;t<r.length;t++){var p=jQuery.trim(r[t]);if(p.substring(0,e.length+1)==e+"="){n=decodeURIComponent(p.substring(e.length+1));break}}return n}o=o||{},null===i&&(i="",o.expires=-1);var u="";if(o.expires&&("number"==typeof o.expires||o.expires.toUTCString)){var s;"number"==typeof o.expires?(s=new Date,s.setTime(s.getTime()+24*o.expires*60*60*1e3)):s=o.expires,u="; expires="+s.toUTCString()}var a=o.path?"; path="+o.path:"",c=o.domain?"; domain="+o.domain:"",m=o.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(i),u,a,c,m].join("")};

/* Jquery Browser */
var matched,browser;jQuery.uaMatch=function(e){e=e.toLowerCase();var r=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:r[1]||"",version:r[2]||"0"}},browser={},(matched=jQuery.uaMatch(navigator.userAgent)).browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser;

/*!
 * IE10 viewport hack for Surface/desktop Windows 8 bug
 * Copyright 2014-2017 The Bootstrap Authors
 * Copyright 2014-2017 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

// See the Getting Started docs for more information:
// https://getbootstrap.com/getting-started/#support-ie10-width
(function(){'use strict'
if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement('style')
msViewportStyle.appendChild(document.createTextNode('@-ms-viewport{width:auto!important}'))
document.head.appendChild(msViewportStyle)}}());

/*!
 * jQuery Form Plugin
 * version: 2.69 (06-APR-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
!function(e){function t(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}e.fn.ajaxSubmit=function(r){function a(){function a(){var t=m.attr("target"),r=m.attr("action");i.setAttribute("target",s),"POST"!=i.getAttribute("method")&&i.setAttribute("method","POST"),i.getAttribute("action")!=o.url&&i.setAttribute("action",o.url),o.skipEncodingOverride||m.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),o.timeout&&setTimeout(function(){d=!0,n()},o.timeout);var a=[];try{if(o.extraData)for(var c in o.extraData)a.push(e('<input type="hidden" name="'+c+'" value="'+o.extraData[c]+'" />').appendTo(i)[0]);l.appendTo("body"),u.attachEvent?u.attachEvent("onload",n):u.addEventListener("load",n,!1),i.submit()}finally{i.setAttribute("action",r),t?i.setAttribute("target",t):m.removeAttr("target"),e(a).remove()}}function n(){if(!c.aborted){var r=u.contentWindow?u.contentWindow.document:u.contentDocument?u.contentDocument:u.document;if(r&&r.location.href!=o.iframeSrc||d){u.detachEvent?u.detachEvent("onload",n):u.removeEventListener("load",n,!1);var a=!0;try{if(d)throw"timeout";var i="xml"==o.dataType||r.XMLDocument||e.isXMLDoc(r);if(t("isXml="+i),!i&&window.opera&&(null==r.body||""==r.body.innerHTML)&&--g)return t("requeing onLoad callback, DOM not available"),void setTimeout(n,250);c.responseText=r.body?r.body.innerHTML:r.documentElement?r.documentElement.innerHTML:null,c.responseXML=r.XMLDocument?r.XMLDocument:r,c.getResponseHeader=function(e){var t={"content-type":o.dataType};return t[e]};var s=/(json|script)/.test(o.dataType);if(s||o.textarea){var m=r.getElementsByTagName("textarea")[0];if(m)c.responseText=m.value;else if(s){var p=r.getElementsByTagName("pre")[0],v=r.getElementsByTagName("body")[0];p?c.responseText=p.textContent:v&&(c.responseText=v.innerHTML)}}else"xml"!=o.dataType||c.responseXML||null==c.responseText||(c.responseXML=b(c.responseText));h=y(c,o.dataType,o)}catch(x){t("error caught:",x),a=!1,c.error=x,o.error&&o.error.call(o.context,c,"error",x),f&&e.event.trigger("ajaxError",[c,o,x])}c.aborted&&(t("upload aborted"),a=!1),a&&(o.success&&o.success.call(o.context,h,"success",c),f&&e.event.trigger("ajaxSuccess",[c,o])),f&&e.event.trigger("ajaxComplete",[c,o]),f&&!--e.active&&e.event.trigger("ajaxStop"),o.complete&&o.complete.call(o.context,c,a?"success":"error"),setTimeout(function(){l.removeData("form-plugin-onload"),l.remove(),c.responseXML=null},100)}}}var i=m[0];if(e(":input[name=submit],:input[id=submit]",i).length)return void alert('Error: Form elements must not have name or id of "submit".');var o=e.extend(!0,{},e.ajaxSettings,r);o.context=o.context||o;var s="jqFormIO"+(new Date).getTime(),l=e('<iframe id="'+s+'" name="'+s+'" src="'+o.iframeSrc+'" />'),u=l[0];l.css({position:"absolute",top:"-1000px",left:"-1000px"});var c={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){t("aborting upload...");var r="aborted";this.aborted=1,l.attr("src",o.iframeSrc),c.error=r,o.error&&o.error.call(o.context,c,"error",r),f&&e.event.trigger("ajaxError",[c,o,r]),o.complete&&o.complete.call(o.context,c,"error")}},f=o.global;if(f&&!e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[c,o]),o.beforeSend&&o.beforeSend.call(o.context,c,o)===!1)return void(o.global&&e.active--);if(!c.aborted){var d=0,p=i.clk;if(p){var v=p.name;v&&!p.disabled&&(o.extraData=o.extraData||{},o.extraData[v]=p.value,"image"==p.type&&(o.extraData[v+".x"]=i.clk_x,o.extraData[v+".y"]=i.clk_y))}o.forceSync?a():setTimeout(a,10);var h,g=50,b=e.parseXML||function(e,t){return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},x=e.parseJSON||function(e){return window.eval("("+e+")")},y=function(t,r,a){var n=t.getResponseHeader("content-type")||"",i="xml"===r||!r&&n.indexOf("xml")>=0,o=i?t.responseXML:t.responseText;return i&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),a&&a.dataFilter&&(o=a.dataFilter(o,r)),"string"==typeof o&&("json"===r||!r&&n.indexOf("json")>=0?o=x(o):("script"===r||!r&&n.indexOf("javascript")>=0)&&e.globalEval(o)),o}}}if(!this.length)return t("ajaxSubmit: skipping submit process - no element selected"),this;"function"==typeof r&&(r={success:r});var n=this.attr("action"),i="string"==typeof n?e.trim(n):"";i&&(i=(i.match(/^([^#]+)/)||[])[1]),i=i||window.location.href||"",r=e.extend(!0,{url:i,success:e.ajaxSettings.success,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},r);var o={};if(this.trigger("form-pre-serialize",[this,r,o]),o.veto)return t("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(r.beforeSerialize&&r.beforeSerialize(this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var s,l,u=this.formToArray(r.semantic);if(r.data){r.extraData=r.data;for(s in r.data)if(r.data[s]instanceof Array)for(var c in r.data[s])u.push({name:s,value:r.data[s][c]});else l=r.data[s],l=e.isFunction(l)?l():l,u.push({name:s,value:l})}if(r.beforeSubmit&&r.beforeSubmit(u,this,r)===!1)return t("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[u,this,r,o]),o.veto)return t("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=e.param(u);"GET"==r.type.toUpperCase()?(r.url+=(r.url.indexOf("?")>=0?"&":"?")+f,r.data=null):r.data=f;var m=this,d=[];if(r.resetForm&&d.push(function(){m.resetForm()}),r.clearForm&&d.push(function(){m.clearForm()}),!r.dataType&&r.target){var p=r.success||function(){};d.push(function(t){var a=r.replaceTarget?"replaceWith":"html";e(r.target)[a](t).each(p,arguments)})}else r.success&&d.push(r.success);r.success=function(e,t,a){for(var n=r.context||r,i=0,o=d.length;o>i;i++)d[i].apply(n,[e,t,a||m,m])};var v=e("input:file",this).length>0,h="multipart/form-data",g=m.attr("enctype")==h||m.attr("encoding")==h;return r.iframe!==!1&&(v||r.iframe||g)?r.closeKeepAlive?e.get(r.closeKeepAlive,a):a():e.ajax(r),this.trigger("form-submit-notify",[this,r]),this},e.fn.ajaxForm=function(r){if(0===this.length){var a={s:this.selector,c:this.context};return!e.isReady&&a.s?(t("DOM not ready, queuing ajaxForm"),e(function(){e(a.s,a.c).ajaxForm(r)}),this):(t("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(t){t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(r))}).bind("click.form-plugin",function(t){var r=t.target,a=e(r);if(!a.is(":submit,input:image")){var n=a.closest(":submit");if(0==n.length)return;r=n[0]}var i=this;if(i.clk=r,"image"==r.type)if(void 0!=t.offsetX)i.clk_x=t.offsetX,i.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=a.offset();i.clk_x=t.pageX-o.left,i.clk_y=t.pageY-o.top}else i.clk_x=t.pageX-r.offsetLeft,i.clk_y=t.pageY-r.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t){var r=[];if(0===this.length)return r;var a=this[0],n=t?a.getElementsByTagName("*"):a.elements;if(!n)return r;var i,o,s,l,u,c,f;for(i=0,c=n.length;c>i;i++)if(u=n[i],s=u.name)if(t&&a.clk&&"image"==u.type)u.disabled||a.clk!=u||(r.push({name:s,value:e(u).val()}),r.push({name:s+".x",value:a.clk_x},{name:s+".y",value:a.clk_y}));else if(l=e.fieldValue(u,!0),l&&l.constructor==Array)for(o=0,f=l.length;f>o;o++)r.push({name:s,value:l[o]});else null!==l&&"undefined"!=typeof l&&r.push({name:s,value:l});if(!t&&a.clk){var m=e(a.clk),d=m[0];s=d.name,s&&!d.disabled&&"image"==d.type&&(r.push({name:s,value:m.val()}),r.push({name:s+".x",value:a.clk_x},{name:s+".y",value:a.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var r=[];return this.each(function(){var a=this.name;if(a){var n=e.fieldValue(this,t);if(n&&n.constructor==Array)for(var i=0,o=n.length;o>i;i++)r.push({name:a,value:n[i]});else null!==n&&"undefined"!=typeof n&&r.push({name:this.name,value:n})}}),e.param(r)},e.fn.fieldValue=function(t){for(var r=[],a=0,n=this.length;n>a;a++){var i=this[a],o=e.fieldValue(i,t);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(r,o):r.push(o))}return r},e.fieldValue=function(t,r){var a=t.name,n=t.type,i=t.tagName.toLowerCase();if(void 0===r&&(r=!0),r&&(!a||t.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!t.checked||("submit"==n||"image"==n)&&t.form&&t.form.clk!=t||"select"==i&&-1==t.selectedIndex))return null;if("select"==i){var o=t.selectedIndex;if(0>o)return null;for(var s=[],l=t.options,u="select-one"==n,c=u?o+1:l.length,f=u?o:0;c>f;f++){var m=l[f];if(m.selected){var d=m.value;if(d||(d=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),u)return d;s.push(d)}}return s}return e(t).val()},e.fn.clearForm=function(){return this.each(function(){e("input,select,textarea",this).clearFields()})},e.fn.clearFields=e.fn.clearInputs=function(){return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t&&(this.selectedIndex=-1)})},e.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each(function(){var r=this.type;if("checkbox"==r||"radio"==r)this.checked=t;else if("option"==this.tagName.toLowerCase()){var a=e(this).parent("select");t&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=t}})}}(jQuery);

/**
 * TableDnD plug-in for JQuery, allows you to drag and drop table rows
 * You can set up various options to control how the system will work
 * Copyright (c) Denis Howlett <denish@isocra.com>
 * Licensed like jQuery, see http://docs.jquery.com/License.
 */
!function(t,e,a,n){var i=("ontouchstart"in a.documentElement,"touchstart mousedown"),r="touchmove mousemove",l="touchend mouseup";t(a).ready(function(){function e(t){for(var e={},a=t.match(/([^;:]+)/g)||[];a.length;)e[a.shift()]=a.shift().trim();return e}t("table").each(function(){"dnd"==t(this).data("table")&&t(this).tableDnD({onDragStyle:t(this).data("ondragstyle")&&e(t(this).data("ondragstyle"))||null,onDropStyle:t(this).data("ondropstyle")&&e(t(this).data("ondropstyle"))||null,onDragClass:t(this).data("ondragclass")==n&&"tDnD_whileDrag"||t(this).data("ondragclass"),onDrop:t(this).data("ondrop")&&new Function("table","row",t(this).data("ondrop")),onDragStart:t(this).data("ondragstart")&&new Function("table","row",t(this).data("ondragstart")),onDragStop:t(this).data("ondragstop")&&new Function("table","row",t(this).data("ondragstop")),scrollAmount:t(this).data("scrollamount")||5,sensitivity:t(this).data("sensitivity")||10,hierarchyLevel:t(this).data("hierarchylevel")||0,indentArtifact:t(this).data("indentartifact")||'<div class="indent">&nbsp;</div>',autoWidthAdjust:t(this).data("autowidthadjust")||!0,autoCleanRelations:t(this).data("autocleanrelations")||!0,jsonPretifySeparator:t(this).data("jsonpretifyseparator")||"	",serializeRegexp:t(this).data("serializeregexp")&&new RegExp(t(this).data("serializeregexp"))||/[^\-]*$/,serializeParamName:t(this).data("serializeparamname")||!1,dragHandle:t(this).data("draghandle")||null})})}),jQuery.tableDnD={currentTable:null,dragObject:null,mouseOffset:null,oldX:0,oldY:0,build:function(e){return this.each(function(){this.tableDnDConfig=t.extend({onDragStyle:null,onDropStyle:null,onDragClass:"tDnD_whileDrag",onDrop:null,onDragStart:null,onDragStop:null,scrollAmount:5,sensitivity:10,hierarchyLevel:0,indentArtifact:'<div class="indent">&nbsp;</div>',autoWidthAdjust:!0,autoCleanRelations:!0,jsonPretifySeparator:"	",serializeRegexp:/[^\-]*$/,serializeParamName:!1,dragHandle:null},e||{}),t.tableDnD.makeDraggable(this),this.tableDnDConfig.hierarchyLevel&&t.tableDnD.makeIndented(this)}),this},makeIndented:function(e){var a,n,i=e.tableDnDConfig,r=e.rows,l=t(r).first().find("td:first")[0],o=0,s=0;if(t(e).hasClass("indtd"))return null;n=t(e).addClass("indtd").attr("style"),t(e).css({whiteSpace:"nowrap"});for(var d=0;d<r.length;d++)s<t(r[d]).find("td:first").text().length&&(s=t(r[d]).find("td:first").text().length,a=d);for(t(l).css({width:"auto"}),d=0;d<i.hierarchyLevel;d++)t(r[a]).find("td:first").prepend(i.indentArtifact);for(l&&t(l).css({width:l.offsetWidth}),n&&t(e).css(n),d=0;d<i.hierarchyLevel;d++)t(r[a]).find("td:first").children(":first").remove();return i.hierarchyLevel&&t(r).each(function(){o=t(this).data("level")||0,o<=i.hierarchyLevel&&t(this).data("level",o)||t(this).data("level",0);for(var e=0;e<t(this).data("level");e++)t(this).find("td:first").prepend(i.indentArtifact)}),this},makeDraggable:function(e){var a=e.tableDnDConfig;a.dragHandle&&t(a.dragHandle,e).each(function(){t(this).bind(i,function(n){return t.tableDnD.initialiseDrag(t(this).parents("tr")[0],e,this,n,a),!1})})||t(e.rows).each(function(){t(this).hasClass("nodrag")?t(this).css("cursor",""):t(this).bind(i,function(n){return"TD"==n.target.tagName?(t.tableDnD.initialiseDrag(this,e,this,n,a),!1):void 0}).css("cursor","move")})},currentOrder:function(){var e=this.currentTable.rows;return t.map(e,function(e){return(t(e).data("level")+e.id).replace(/\s/g,"")}).join("")},initialiseDrag:function(e,n,i,o,s){this.dragObject=e,this.currentTable=n,this.mouseOffset=this.getMouseOffset(i,o),this.originalOrder=this.currentOrder(),t(a).bind(r,this.mousemove).bind(l,this.mouseup),s.onDragStart&&s.onDragStart(n,i)},updateTables:function(){this.each(function(){this.tableDnDConfig&&t.tableDnD.makeDraggable(this)})},mouseCoords:function(t){return t.originalEvent.changedTouches?{x:t.originalEvent.changedTouches[0].clientX,y:t.originalEvent.changedTouches[0].clientY}:t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+a.body.scrollLeft-a.body.clientLeft,y:t.clientY+a.body.scrollTop-a.body.clientTop}},getMouseOffset:function(t,a){var n,i;return a=a||e.event,i=this.getPosition(t),n=this.mouseCoords(a),{x:n.x-i.x,y:n.y-i.y}},getPosition:function(t){var e=0,a=0;for(0==t.offsetHeight&&(t=t.firstChild);t.offsetParent;)e+=t.offsetLeft,a+=t.offsetTop,t=t.offsetParent;return e+=t.offsetLeft,a+=t.offsetTop,{x:e,y:a}},autoScroll:function(t){var n=this.currentTable.tableDnDConfig,i=e.pageYOffset,r=e.innerHeight?e.innerHeight:a.documentElement.clientHeight?a.documentElement.clientHeight:a.body.clientHeight;a.all&&("undefined"!=typeof a.compatMode&&"BackCompat"!=a.compatMode?i=a.documentElement.scrollTop:"undefined"!=typeof a.body&&(i=a.body.scrollTop)),t.y-i<n.scrollAmount&&e.scrollBy(0,-n.scrollAmount)||r-(t.y-i)<n.scrollAmount&&e.scrollBy(0,n.scrollAmount)},moveVerticle:function(t,e){0!=t.vertical&&e&&this.dragObject!=e&&this.dragObject.parentNode==e.parentNode&&(0>t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e.nextSibling)||0<t.vertical&&this.dragObject.parentNode.insertBefore(this.dragObject,e))},moveHorizontal:function(e,a){var n,i=this.currentTable.tableDnDConfig;return i.hierarchyLevel&&0!=e.horizontal&&a&&this.dragObject==a?(n=t(a).data("level"),0<e.horizontal&&n>0&&t(a).find("td:first").children(":first").remove()&&t(a).data("level",--n),void(0>e.horizontal&&n<i.hierarchyLevel&&t(a).prev().data("level")>=n&&t(a).children(":first").prepend(i.indentArtifact)&&t(a).data("level",++n))):null},mousemove:function(e){var a,n,i,r,l,o=t(t.tableDnD.dragObject),s=t.tableDnD.currentTable.tableDnDConfig;return e&&e.preventDefault(),t.tableDnD.dragObject?("touchmove"==e.type&&event.preventDefault(),s.onDragClass&&o.addClass(s.onDragClass)||o.css(s.onDragStyle),n=t.tableDnD.mouseCoords(e),r=n.x-t.tableDnD.mouseOffset.x,l=n.y-t.tableDnD.mouseOffset.y,t.tableDnD.autoScroll(n),a=t.tableDnD.findDropTargetRow(o,l),i=t.tableDnD.findDragDirection(r,l),t.tableDnD.moveVerticle(i,a),t.tableDnD.moveHorizontal(i,a),!1):!1},findDragDirection:function(t,e){var a=this.currentTable.tableDnDConfig.sensitivity,n=this.oldX,i=this.oldY,r=n-a,l=n+a,o=i-a,s=i+a,d={horizontal:t>=r&&l>=t?0:t>n?-1:1,vertical:e>=o&&s>=e?0:e>i?-1:1};return 0!=d.horizontal&&(this.oldX=t),0!=d.vertical&&(this.oldY=e),d},findDropTargetRow:function(e,a){for(var n=0,i=this.currentTable.rows,r=this.currentTable.tableDnDConfig,l=0,o=null,s=0;s<i.length;s++)if(o=i[s],l=this.getPosition(o).y,n=parseInt(o.offsetHeight)/2,0==o.offsetHeight&&(l=this.getPosition(o.firstChild).y,n=parseInt(o.firstChild.offsetHeight)/2),a>l-n&&l+n>a)return e.is(o)||r.onAllowDrop&&!r.onAllowDrop(e,o)||t(o).hasClass("nodrop")?null:o;return null},processMouseup:function(){if(!this.currentTable||!this.dragObject)return null;var e=this.currentTable.tableDnDConfig,n=this.dragObject,i=0,o=0;t(a).unbind(r,this.mousemove).unbind(l,this.mouseup),e.hierarchyLevel&&e.autoCleanRelations&&t(this.currentTable.rows).first().find("td:first").children().each(function(){o=t(this).parents("tr:first").data("level"),o&&t(this).parents("tr:first").data("level",--o)&&t(this).remove()})&&e.hierarchyLevel>1&&t(this.currentTable.rows).each(function(){if(o=t(this).data("level"),o>1)for(i=t(this).prev().data("level");o>i+1;)t(this).find("td:first").children(":first").remove(),t(this).data("level",--o)}),e.onDragClass&&t(n).removeClass(e.onDragClass)||t(n).css(e.onDropStyle),this.dragObject=null,e.onDrop&&this.originalOrder!=this.currentOrder()&&t(n).hide().fadeIn("fast")&&e.onDrop(this.currentTable,n),e.onDragStop&&e.onDragStop(this.currentTable,n),this.currentTable=null},mouseup:function(e){return e&&e.preventDefault(),t.tableDnD.processMouseup(),!1},jsonize:function(t){var e=this.currentTable;return t?JSON.stringify(this.tableData(e),null,e.tableDnDConfig.jsonPretifySeparator):JSON.stringify(this.tableData(e))},serialize:function(){return t.param(this.tableData(this.currentTable))},serializeTable:function(t){for(var e="",a=t.tableDnDConfig.serializeParamName||t.id,n=t.rows,i=0;i<n.length;i++){e.length>0&&(e+="&");var r=n[i].id;r&&t.tableDnDConfig&&t.tableDnDConfig.serializeRegexp&&(r=r.match(t.tableDnDConfig.serializeRegexp)[0],e+=a+"[]="+r)}return e},serializeTables:function(){var e=[];return t("table").each(function(){this.id&&e.push(t.param(t.tableDnD.tableData(this)))}),e.join("&")},tableData:function(e){var a,n,i,r,l=e.tableDnDConfig,o=[],s=0,d=0,h=null,u={};if(e||(e=this.currentTable),!e||!e.rows||!e.rows.length)return{error:{code:500,message:"Not a valid table."}};if(!e.id&&!l.serializeParamName)return{error:{code:500,message:"No serializable unique id provided."}};r=l.autoCleanRelations&&e.rows||t.makeArray(e.rows),n=l.serializeParamName||e.id,i=n,a=function(t){return t&&l&&l.serializeRegexp?t.match(l.serializeRegexp)[0]:t},u[i]=[],!l.autoCleanRelations&&t(r[0]).data("level")&&r.unshift({id:"undefined"});for(var c=0;c<r.length;c++)if(l.hierarchyLevel){if(d=t(r[c]).data("level")||0,0==d)i=n,o=[];else if(d>s)o.push([i,s]),i=a(r[c-1].id);else if(s>d)for(var f=0;f<o.length;f++)o[f][1]==d&&(i=o[f][0]),o[f][1]>=s&&(o[f][1]=0);s=d,t.isArray(u[i])||(u[i]=[]),h=a(r[c].id),h&&u[i].push(h)}else h=a(r[c].id),h&&u[i].push(h);return u}},jQuery.fn.extend({tableDnD:t.tableDnD.build,tableDnDUpdate:t.tableDnD.updateTables,tableDnDSerialize:t.proxy(t.tableDnD.serialize,t.tableDnD),tableDnDSerializeAll:t.tableDnD.serializeTables,tableDnDData:t.proxy(t.tableDnD.tableData,t.tableDnD)})}(jQuery,window,window.document);

/*
 * jLinq 2.2.1 (Packed) : 9-12-2009
 * ---------------------------------
 * Hugo Bonacci (webdev_hb@yahoo.com)
 * www.hugoware.net
 * License: Attribution-Share Alike
 * http://creativecommons.org/licenses/by-sa/3.0/us/
 */
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h 1v;(f(){h 35=f(1D){h 27=3D;h B={};B.1D=1D;27.38=f(2t){27.38=C;B.48=E;B.2t=2t};B.1w={2S:f(2r,2q){d 2r.1H().2H(/%[0-9]+%/3C,f(H){h 1U=3B(H.2H(/%/3C,""));d 2q[1U]})},3Q:f(2a){h 33=[];F(h i=0;i<2a.q;i++){m(2a[i]==C){d 33}33.I(2a[i])}d 33},2v:f(x){m(x==C){d""}d x.1H().2H(/^\\s+|\\s+$/,"")},25:f(2a){F(h i=0;i<2a.q;i++){m(2a[i]){d K}}d E},n:f(x){m(x==C){d"C"}m(x==30){d"C"}F(h J 1I B.29){2k{m(B.29[J](x)){d J}}2n(e){}}d(2P(x)).1H().3A()},V:f(x,1L){h n=B.1w.n(x);m(!1L[n]){m(1L.25&&(x==C||x==30)){d 1L.25(x)}m(1L.1o){d 1L.1o(x)}d K}2k{d 1L[n](x)}2n(e){d K}},3z:f(x,1L){h n=B.1w.n(x);m(!1L[n]){m(1L.25&&(x==C||x==30)){d 1L.25(x)}m(1L.1o){d 1L.1o(x)}d C}2k{d 1L[n](x)}2n(e){d C}},2u:f(1p,1E){h t=[];F(h i=0;i<1p.q;i++){2k{t.I(1E(1p[i],i))}2n(e){t.I(e)}}d t},2j:f(2x){f 2y(){};2y.5f=2x;d 2R 2y()}};27.3J=f(p,1q){p=B.1w.2v(p).3A();B.29[p]=1q};27.5e=f(p){p=B.1w.2v(p).3A();B.29[p]=f(){d K}};B.29=1D.29?1D.29:{};27.1u=f(w){w.p=B.1w.2v(w.p);w.1X=B.1w.2v(w.1X);m(B.1u.3S(w)){m(B.2t){3W"2J: 5d 45 3a.";}B.1u.3w(w)}B.1u.3L(w);m(w.n.H(/1S/i)){m(w.1X&&!27[w.1X]){27[w.1X]={}}h 2d=w.1X==""?27:27[w.1X];2d[w.p]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){h t=w.v({u:B.1w},1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N);m(B.1w.n(t)!="1p"){3W"2J: A \'5c\' 50 4Z d 4Y 1p F a 1v c.";}d 2R B.c(t)}}};B.1u={G:[],3S:f(w){d(B.1u.3u(w)!=C)},3L:f(w){B.1u.3w(w);B.1u.G.I(w)},3w:f(w){h 1U=B.1u.3u(w);m(1U){B.1u.G.3N(1U,1)}},3u:f(w){F(h i=0;i<B.1u.G.q;i++){h v=B.1u.G[i];m(v.p==w.p&&v.1X==w.1X){d i}}d C}};27.4X=f(){d B.1w.2j(B.1u.G)};F(h J 1I 1D.1u){27.1u(1D.1u[J])}B.c=f(1t){h 2h=3D;1t=B.1w.2j(1t);h y={};y.o={4W:E,3s:C,3q:C,46:C,3H:0,2B:E,2G:K,1z:K,1t:1t,1T:K,1Q:"",2o:{3p:f(2r){},2L:f(2r,2q){y.o.2o.3p(B.1w.2S(2r,2q))}}};m(1t==C){d C}m(B.1w.n(1t)=="1p"&&1t.q>0){y.o.1T=(B.1w.n(1t[0])=="3X")}y.c={2N:[],2U:[],42:f(1E){y.c.2N.I(1E);h 1z=y.o.1z?"!":"";m(y.c.2N.q==0){y.o.1Q=""}y.o.2G=K;y.o.1z=K;y.c.2U.I([y.o.1Q,"(",1z,"(y.c.2N[",(y.c.2N.q-1),"](1M)))"].2D(""));y.o.1Q="&&"},1s:f(){m(y.c.2U.q==0){d{1x:y.o.1t,1B:[]}}h c;3o(["c = f(1M) {"+" d (",y.c.2U.2D(""),"); };"].2D(""));h 1x=[];h 1B=[];F(h i=0;i<y.o.1t.q;i++){h J=y.o.1t[i];2k{m(c(J)){1x.I(J)}28{1B.I(J)}}2n(e){y.o.2o.2L("2J V 4V 4U c F z: %0%. c: %1%",[e,c]);1B.I(J)}}d{1x:1x,1B:1B}},3T:f(w,2q){y.o.3s=w.3b;y.o.3H=w.1n;y.o.46=w.p;h 2A=[];h 3k=K;F(h i=2q.q;i-->0;){m(!2q[i]&&!3k){4T}3k=E;2A.I(2q[i])}2A.2E();m(y.o.1T&&2A.q==w.1n+1){y.o.3q=2A.4S()}d{1r:2A,1l:y.o.3q}},47:f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){m(y.u.25([1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N])){d}y.o.3s(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)},3i:f(1y,1l,2b){1y.2w(f(a,b){a=a[1l];b=b[1l];d(a<b)?-1:(a>b)?1:0});m(2b){1y.2E()}}};y.u={3P:f(x){m(x==C){d""}d x.1H().2H(/\\*|\\(|\\)|\\\\|\\/|\\?|\\.|\\*|\\+|\\<|\\>|\\[|\\]|\\=|\\&|\\$|\\^/3C,f(H){d("\\\\"+H)})},3h:f(2x){m(2x.q){d 2x.q}d 2x},2v:B.1w.2v,H:f(x,2m){m(!(x&&2m)){d K}m(y.u.n(2m)=="3g"){2m=2m.1S}2m=2R 4R(2m,"g"+(y.o.2B?"i":""));d(x.H(2m))},37:f(1m,1A){m(1m==C&&1A==C){d E}m(1m==C||1A==C){d K}F(h p 1I 1m){m(1A[p]==30){d K}m(!y.u.1Y(1m[p],1A[p])){d K}}d E},1Y:f(1m,1A){2k{m(1m==C&&1A==C){d E}m((1m==C&&1A)||(1m&&1A==C)){d K}h 2l=y.u.n(1m);h 2Y=y.u.n(1A);m(2l!=2Y){d K}m(2l=="1W"&&2Y=="1W"){d y.u.H(1m,"^"+1A+"$")}m(2l=="1W"&&2Y=="3g"){d y.u.H(1m,1A)}m(2l=="1V"||2l=="31"){d(1m==1A)}28 m(2l=="1p"||2l=="3X"){m(1m.q!=1A.q){d K}F(h i=0;i<1m.q;i++){m(!y.u.1Y(1m[i],1A[i])){d K}}d E}28{d(1m==1A)}}2n(e){d K}},4O:f(1m,1A){m(B.u.n(1m)!="1p"){1m=[1m]}F(h J 1I 1m){m(!B.u.1Y(1m[J],1A)){d K}}d E},4N:f(1m,1A){m(B.u.n(1m)!="1p"){1m=[1m]}F(h J 1I 1m){m(!B.u.1Y(1m[J],1A)){d E}}d K},2w:f(1y,2p,2b){m(2p==C){1y.2w();m(2b){c.o.1t.2E()}d 1y}h 1U=0;h 3f=f(1y){1y=B.1w.2j(1y);h 1l=2p[1U].1l;h 2b=2p[1U].2b;m(1U==2p.q-1){y.c.3i(1y,1l,2b);d 1y};y.c.3i(1y,1l,2b);h 26=y.u.2M(1y,1l);1U++;h t=[];F(h j=0;j<26.q;j++){h 3d=3f(26[j].3c);F(h k=0;k<3d.q;k++){t.I(3d[k])}};d t};d 3f(y.o.1t)},2M:f(1y,1l){h 26=[];F(h i=0;i<1y.q;i++){h x=1y[i];h 2C=(1l!=C)?3o(["(x.",1l,")"].2D("")):x;h 3l=K;F(h J 1I 26){m(26[J].2C===2C){3l=E;26[J].3c.I(x);4M}}m(!3l){26.I({2C:2C,3c:[x]})}}d 26},25:B.1w.25,n:B.1w.n,V:B.1w.V,2u:B.1w.2u,2S:B.1w.2S,2j:B.1w.2j,39:B.1w.3Q,3z:B.1w.3z};F(h J 1I B.1u.G){(f(w){m(!(w.n||w.p||w.v)){d}m(w.n.H(/1S/i)){d}m(w.1X&&!2h[w.1X]){2h[w.1X]={}}h 2d=w.1X?2h[w.1X]:2h;h v=(f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.2o.2L("4K 3b %0% \'%1%()\'.",[w.n,w.p]);h o={2Q:f(G){y.c.2U.I(G)},c:2h,o:y.o,u:y.u,2z:f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.c.47(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}};m(w.n.H(/^c$/i)){h G=y.c.3T({3b:2d[w.p],1n:w.1n,p:w.p},[1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N]);y.c.42(f(1M){2k{o.l=y.o.1T?3o("1M."+G.1l):1M}2n(e){y.o.2o.2L("2J V 44 \'%0%()\' : %1%.",[w.p,e]);o.l=C}o.1M=1M;o.n=o.u.n(o.l);o.V=f(1L){d y.u.V(o.l,1L)};d w.v(o,G.1r[0],G.1r[1],G.1r[2],G.1r[3],G.1r[4],G.1r[5],G.1r[6],G.1r[7],G.1r[8],G.1r[9],G.1r[10],G.1r[11],G.1r[12],G.1r[13],G.1r[14],G.1r[15],G.1r[16],G.1r[17],G.1r[18],G.1r[19],G.1r[20],G.1r[21],G.1r[22],G.1r[23],G.1r[24])});d 2h}28 m(w.n.H(/^1E$/i)){2k{w.v(o,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}2n(e){y.o.2o.2L("2J V 44 \'%0%()\' : %1%.",[w.p,e])}d 2h}28 m(w.n.H(/^z$/i)){o.t=w.2f?[]:y.c.1s();o.1s=y.c.1s;d w.v(o,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}d 2h});2d[w.p]=v;m(w.n.H(/^c$/i)&&(B.1D.2T==C||B.1D.2T)&&(w.2T==C||w.2T)){h 2F=w.p.3r(0,1).4z()+w.p.3r(1,w.p.q-1);2d["2G"+2F]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.1Q="||";d v(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)};2d["3Y"+2F]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.1Q="&&";d v(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)};2d["1z"+2F]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.1z=!y.o.1z;d v(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)};2d["3Z"+2F]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.1z=!y.o.1z;y.o.1Q="&&";d v(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)};2d["40"+2F]=f(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){y.o.1z=!y.o.1z;y.o.1Q="||";d v(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}}})(B.1u.G[J])}}};h 3t=f(){d{3a:E,2T:E,29:{1p:f(x){d(x.I&&x.4w&&x.2E&&x.3v&&x.3N)},"f":f(x){d((2P(x)).1H().H(/^f$/i))},1W:f(x){d((2P(x)).1H().H(/^1W$/i))},1V:f(x){d((2P(x)).1H().H(/^1V$/i))},31:f(x){d((2P(x)).1H().H(/^4v$/i))},3g:f(x){d(x.2B!=C&&x.4q!=C&&x.4p)},2e:f(x){d(x.4g&&x.4e&&x.4a&&x.5g)}},1u:[{p:"1C",n:"1S",v:f(c,1S){d c.u.V(1S,{"f":f(){d 1S()},1p:f(){d 1S},1o:f(){d[1S]}})}},{p:"2o",n:"1E",49:K,v:f(c,1O){c.o.2o.3p=1O}},{p:"2E",n:"1E",v:f(c){c.o.1t.2E()}},{p:"2B",n:"1E",v:f(c){c.o.2B=E}},{p:"4b",n:"1E",v:f(c){c.o.2B=K}},{p:"2G",n:"1E",v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){c.o.1Q="||";c.2z(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}},{p:"1z",n:"1E",v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){c.o.1z=!c.o.1z;c.2z(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}},{p:"3Y",n:"1E",v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){c.o.1Q="&&";c.2z(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}},{p:"40",n:"1E",v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){c.o.2G=E;c.o.1z=!c.o.1z;c.2z(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}},{p:"3Z",n:"1E",v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){c.o.2G=K;c.o.1z=!c.o.1z;c.2z(1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N)}},{p:"4c",n:"1E",v:f(c,1O){c.2Q(c.o.1Q+"("+(c.o.1z?"!":""));c.o.1Q="";1O(c.c);c.2Q(")")}},{p:"4d",n:"1E",v:f(c,1O){c.o.1Q="||";c.2Q(c.o.1Q+"("+(c.o.1z?"!":""));c.o.1Q="";1O(c.c);c.2Q(")")}},{p:"2I",1n:-1,n:"c",v:f(c,1O){d 1O(c.1M,c.u)}},{p:"4f",1n:1,n:"c",v:f(c,l){h 3y=3B(l.1H(),16);h 1q=3B(c.l.1H(),16);d((1q&3y)==3y)}},{p:"1Y",1n:1,n:"c",v:f(c,l){d c.u.1Y(c.l,l)}},{p:"4h",1n:1,n:"c",v:f(c,l){m(c.u.n(l)!="1p"){l=[l]}F(h J 1I l){h H=l[J];m(c.V({1p:f(){d c.u.1Y(c.l[0],H)},1o:f(){d c.u.H(c.l.1H(),"^"+H.1H())}})){d E}}}},{p:"4i",1n:1,n:"c",v:f(c,l){m(c.u.n(l)!="1p"){l=[l]}F(h J 1I l){h H=l[J];m(c.V({1p:f(){d c.u.1Y(c.l[c.l.q-1],H)},1o:f(){d c.u.H(c.l.1H(),H.1H()+"$")}})){d E}}}},{p:"4j",1n:1,n:"c",v:f(c,l){m(l==C){d K}m(c.u.n(l)!="1p"){l=[l]}F(h J 1I l){h H=l[J];m(c.V({1p:f(){F(h i=0;i<c.l.q;i++){m(c.u.1Y(c.l[i],H)){d E}}},1o:f(){d c.u.H(c.l.1H(),"^.*"+c.u.3P(H)+".*$")}})){d E}}}},{p:"H",1n:1,n:"c",v:f(c,l){m(c.u.n(l)!="1p"){l=[l]}F(h J 1I l){h H=l[J];m(c.V({1p:f(){F(h i=0;i<c.l.q;i++){m(c.u.H(c.l[i],H)){d E}}},1o:f(){d c.u.H(c.l.1H(),H)}})){d E}}}},{p:"4k",1n:1,n:"c",v:f(c,l){l=c.u.V(l,{1V:f(){d l},2e:f(){d l},1o:f(){d l.q}});d c.V({1W:f(){d(c.l.q<l)},1p:f(){d(c.l.q<l)},1o:f(){d(c.l<l)}})}},{p:"4l",1n:1,n:"c",v:f(c,l){l=c.u.V(l,{1V:f(){d l},2e:f(){d l},1o:f(){d l.q}});d c.V({1W:f(){d(c.l.q>l)},1p:f(){d(c.l.q>l)},1o:f(){d(c.l>l)}})}},{p:"4m",1n:1,n:"c",v:f(c,l){l=c.u.V(l,{1V:f(){d l},2e:f(){d l},1o:f(){d l.q}});d c.V({1W:f(){d(c.l.q<=l)},1p:f(){d(c.l.q<=l)},1o:f(){d(c.l<=l)}})}},{p:"4n",1n:1,n:"c",v:f(c,l){l=c.u.V(l,{1V:f(){d l},2e:f(){d l},1o:f(){d l.q}});d c.V({1W:f(){d(c.l.q>=l)},1p:f(){d(c.l.q>=l)},1o:f(){d(c.l>=l)}})}},{p:"4o",1n:2,n:"c",v:f(c,1K,1J){1K=c.u.V(1K,{1V:f(){d 1K},2e:f(){d l},1o:f(){d 1K.q}});1J=c.u.V(1J,{1V:f(){d 1J},1o:f(){d 1J.q}});d c.V({1W:f(){d(c.l.q>1K&&c.l.q<1J)},1p:f(){d(c.l.q>1K&&c.l.q<1J)},1o:f(){d(c.l>1K&&c.l<1J)}})}},{p:"4r",1n:2,n:"c",v:f(c,1K,1J){1K=c.u.V(1K,{1V:f(){d 1K},2e:f(){d l},1o:f(){d 1K.q}});1J=c.u.V(1J,{1V:f(){d 1J},2e:f(){d l},1o:f(){d 1J.q}});d c.V({1W:f(){d(c.l.q>=1K&&c.l.q<=1J)},1p:f(){d(c.l.q>=1K&&c.l.q<=1J)},1o:f(){d(c.l>=1K&&c.l<=1J)}})}},{p:"25",1n:0,n:"c",v:f(c){d c.V({1p:f(){d(c.l.q==0)},1W:f(){d(c.l=="")},25:f(){d E}})}},{p:"45",1n:0,n:"c",v:f(c){d c.V({31:f(){d c.l},25:f(){d K},1o:f(){d(c.l!=C)}})}},{p:"4s",1n:0,n:"c",v:f(c){d c.V({31:f(){d!c.l},25:f(){d E},1o:f(){d(c.l==C)}})}},{p:"4t",n:"z",v:f(c){d(c.t.1x.q>0)}},{p:"39",n:"z",v:f(c){d(c.t.1x.q==c.o.1t.q)}},{p:"4u",n:"z",v:f(c){d!c.c.39()}},{p:"1n",n:"z",v:f(c,D){d D?c.t.1B.q:c.t.1x.q}},{p:"1s",n:"z",v:f(c,z,D){h 1y=[];h t=D?c.t.1B:c.t.1x;z=c.u.n(z)=="f"?z:f(r){d r};F(h i=0;i<t.q;i++){1y.I(z(t[i]))}d 1y}},{p:"4x",n:"z",2f:E,v:f(c,w,z,D){w=w?w:{};h t=c.c.1s(z,D);m(t.1n==0){d"4y t F 3D c"}h 3n=f(1R){c.u.V(1R,{2e:f(){1R=c.u.2S("%0%/%1%/%2% 3R %3%:%4% %5%",[1R.4A()+1,1R.4B(),1R.4C(),(1R.2X()>12?1R.2X()-12:1R.2X()),1R.4D(),(1R.2X()>12?"4E":"4F")])},25:f(){1R="C"},1o:f(){1R=1R.1H()}});d 1R};h 1N=["<3O 4G=\'0\' 4H=\'0\' "+(w.3j?"3j=\'"+w.3j+"\' ":"")+(w.3M?"3K=\'"+w.3M+"\' ":"")+" >"];m(c.o.1T){h 34=[];1N.I("<2Z>");F(h J 1I t[0]){34.I(J);1N.I("<3G>");1N.I(4I(J));1N.I("</3G>")}1N.I("</2Z>")}h 2O=E;F(h i=0;i<t.q;i++){2O=!2O;h 1M=t[i];1N.I("<2Z "+(2O?"3K=\'2O-4J\'":"")+">");m(c.o.1T){F(h 3E 1I 34){h J=34[3E];h x=1M[J];h 2r=3n(x);1N.I("<36>");1N.I(2r);1N.I("</36>")}}28{1N.I("<36>");1N.I(3n(1M));1N.I("</36>")}1N.I("</2Z>")}1N.I("</3O>");d 1N.2D("")}},{p:"2u",n:"z",2f:E,v:f(c,1E,z,D){h t=c.c.1s(z,D);F(h i=0;i<t.q;i++){1E(t[i],i)}d c.c}},{p:"3e",n:"z",2f:E,v:f(c,1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N){h 2i=c.u.39([1h,1g,1f,1e,1d,1b,1a,Z,L,X,W,U,T,S,R,Q,P,O,1k,1i,1j,1c,Y,M,N]);m(2i.q==0){2i=[""]}m(!c.o.1T){h 2b=(2i.q>0)?(2i[0]+"").H(/^\\-/g):K;c.o.1t=c.u.2w(c.o.1t,C,2b);d c.c}h 2p=[];F(h i=0;i<2i.q;i++){2p.I({2b:(2i[i].3r(0,1)=="-"),1l:2i[i].2H(/^\\-/g,"")})}c.o.1t=c.u.2w(c.o.1t,2p);d c.c}},{p:"2M",n:"z",v:f(c,1l,D){h 1Z=D?c.t.1B:c.t.1x;h t=c.u.2M(1Z,1l);h 26=[];F(h J 1I t){26.I(t[J].2C)}d c.u.2w(26,C,K)}},{p:"4L",n:"z",v:f(c,1l,D){h 1Z=D?c.t.1B:c.t.1x;h t=c.u.2M(1Z,1l);d 1v.1C(t)}},{p:"2D",n:"z",v:f(c,1S,2K,3F,3U){1S=c.u.2j(1S);h 2y=[];F(h i=0;i<c.o.1t.q;i++){h 1M=c.u.2j(c.o.1t[i]);h t=1v.1C(1S).1Y(3U,1M[3F]).1s();m(t.q==1){1M[2K]=t[0]}28{1M[i][2K]=t}2y.I(1M)}d 1v.1C(2y)}},{p:"4P",n:"z",v:f(c,2K,1O){F(h i=0;i<c.o.1t.q;i++){c.o.1t[i][2K]=1O(c.o.1t[i])}}},{p:"4Q",n:"z",2f:E,v:f(c,2c,1P,z,D){2c=3m.2W(c.u.n(2c)=="1V"?2c:0,0);1P=3m.2W(c.u.n(1P)=="1V"?1P:0,0);h t=c.c.1s(z,D);d t.3v(2c,(2c+1P))}},{p:"1P",n:"z",2f:E,v:f(c,1P,z,D){1P=3m.2W(c.u.n(1P)=="1V"?1P:0,0);h t=c.c.1s(z,D);d t.3v(0,1P)}},{p:"41",n:"z",2f:E,v:f(c,2g,z,D){h t=c.c.1s(z,D);d t.q>0?t[0]:2g?2g:C}},{p:"43",n:"z",2f:E,v:f(c,2g,z,D){h t=c.c.1s(z,D);d t.q>0?t[t.q-1]:2g?2g:C}},{p:"3R",n:"z",2f:E,v:f(c,1U,2g,z,D){h t=c.c.1s(z,D);d 1U<t.q||1U>=0?t[1U]:2g?2g:C}},{p:"2V",n:"z",v:f(c,1l,D){m(!c.o.1T){D=1l}h 1Z=D?c.t.1B:c.t.1x;h 1G=0;c.u.2u(1Z,f(1F){m(c.o.1T){m(1G==C){1G=1F[1l]}28{c.u.V(1F[1l],{1p:f(){1G+=1F[1l].q},1W:f(){1G+=1F[1l].q},1o:f(){1G+=1F[1l]}})}}28{c.u.V(1F,{1p:f(){1G+=1F.q},1W:f(){1G+=1F.q},1o:f(){1G+=1F}})}});d{1n:1Z.q,1G:1G,1y:1Z}}},{p:"51",n:"z",v:f(c,1l,D){h 1Z=D?c.t.1B:c.t.1x;h 2V=1v.1C(1Z).2V(1l).1G;d{52:2V,1n:1Z.q,1G:(2V/1Z.q),1y:1Z}}},{p:"2W",n:"z",v:f(c,1l,D){h 2a=1v.1C(D?c.t.1B:c.t.1x).1s(f(r){r=c.o.1T?r[1l]:r;d{l:r,1n:c.u.3h(r)}});d 1v.1C(2a).3e("1n","l").43()["l"]}},{p:"53",n:"z",v:f(c,1l,D){h 2a=1v.1C(D?c.t.1B:c.t.1x).1s(f(r){r=c.o.1T?r[1l]:r;d{l:r,1n:c.u.3h(r)}});d 1v.1C(2a).3e("1n","l").41()["l"]}},{p:"54",n:"z",v:f(c,1q,D){h z=D?c.t.1B:c.t.1x;m(!(1q&&1q.q&&1q.q>0)){d 1v.1C(z)}h 1G=1v.1C(z).55(f(x){F(h i=0;i<1q.q;i++){m(c.o.1T){m(c.u.37(1q[i],x)){d E}}28{m(c.u.1Y(1q[i],x)){d E}}}d K}).1s();d 1v.1C(1G)}},{p:"56",n:"z",v:f(c,1q,D){h z=D?c.t.1B:c.t.1x;m(!(1q&&1q.q&&1q.q>0)){d 1v.1C(z)}h 1G=1v.1C(z).2I(f(x){F(h i=0;i<1q.q;i++){m(c.o.1T){m(c.u.37(1q[i],x)){d E}}28{m(c.u.1Y(1q[i],x)){d E}}}d K}).1s();d 1v.1C(1G)}},{p:"57",n:"z",v:f(c,1q,D){h z=D?c.t.1B:c.t.1x;m(!(1q&&1q.q&&1q.q>0)){d 1v.1C(z)}d 1v.1C(1q.58(1v.1C(z).2I(f(x){F(h i=0;i<1q.q;i++){m(c.o.1T){m(c.u.37(1q[i],x)){d K}}28{m(c.u.1Y(1q[i],x)){d K}}}d E}).1s()))}},{p:"59",n:"z",v:f(c,1O,D){h z=D?c.t.1B:c.t.1x;h 2c=E;d 1v.1C(z).2I(f(1F,u){m(2c){2c=1O(1F,u)}d!2c}).1s()}},{p:"5a",n:"z",v:f(c,1O,D){h z=D?c.t.1B:c.t.1x;h 1P=E;d 1v.1C(z).2I(f(1F,u){m(1P){1P=1O(1F,c.u)}d 1P}).1s()}},{p:"5b",n:"z",v:f(c,3V,1O,1s,D){h z=D?c.t.1B:c.t.1x;1s=1s?1s:f(r,s){d{1S:r,1q:s}};h t=[];c.u.2u(z,f(1F){c.u.2u(3V,f(3x){m(1O(1F,3x)){t.I(1s(1F,3x))}})});d t}}]}};1v=2R 35(3t());1v.38(E);1v.35=f(1D,32){m(32==C){32=E}h 2s=2R 35(3t());m(!32){2s.29={};2s.1u=[]}h 2t=K;m(1D){m(1D.1u){F(h 3I 1I 1D.1u){2s.1u(1D.1u[3I])}}m(1D.29){F(h n 1I 1D.29){2s.3J(1D.29[n])}}m(1D.3a){2t=1D.3a}};2s.38(2t);d 2s}})();',62,327,'||||||||||||query|return||function||var||||value|if|type|state|name|length|||results|helper|method|params|val|_s|selection||_p|null|invert|true|for|cmd|match|push|item|false|v9|v24|v25|v18|v17|v16|v15|v14|v13|v12|when|v11|v10|v23|v8|||||||||||v7|v6|v22|v5|v4|v3|v2|v1|v20|v21|v19|field|val1|count|other|array|compare|arg|select|data|extend|jLinq|util|selected|records|not|val2|remaining|from|settings|action|rec|result|toString|in|high|low|actions|record|output|delegate|take|operator|raw|source|useProperties|index|number|string|namespace|equals|sel||||||empty|dist|_jLinq|else|types|list|desc|skip|target|date|manual|defType|_query|order|clone|try|val1Type|exp|catch|debug|sorting|args|msg|lib|lock|each|trim|sort|obj|gen|repeat|values|ignoreCase|key|join|reverse|altName|or|replace|where|Exception|alias|log|distinct|cache|alt|typeof|add|new|format|generate|str|sum|max|getHours|val2Type|tr|undefined|bool|imp|actual|columns|library|td|propsEqual|finish|all|locked|command|items|sorted|orderBy|doSort|regexp|getNumericValue|performSort|border|found|added|Math|getString|eval|onEvent|lastField|substr|lastCommand|_defaultLibrary|findCmd|slice|removeCmd|sub|use|as|toLowerCase|parseInt|gi|this|col|pk|th|paramCount|ext|addType|class|addCmd|css|splice|table|toRegex|allValues|at|hasCmd|prepCmd|fk|collection|throw|object|and|andNot|orNot|first|appendCmd|last|calling|is|lastCommandName|repeatCmd|loaded|operators|toDateString|useCase|combine|orCombine|setTime|has|getTime|startsWith|endsWith|contains|less|greater|lessEquals|greaterEquals|between|exec|global|betweenEquals|isNot|any|none|boolean|pop|toTable|No|toUpperCase|getMonth|getDate|getFullYear|getMinutes|PM|AM|cellpadding|cellspacing|escape|row|Called|groupBy|break|anyEqual|allEqual|attach|skipTake|RegExp|shift|continue|the|evaluating|properties|showCommands|an|must|extension|average|total|min|except|notWhere|intersect|union|concat|skipWhile|takeWhile|selectMany|Source|Library|removeType|prototype|toTimeString'.split('|'),0,{}))

/*
Nprogress.js
*/
!function(n,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():n.NProgress=e()}(this,function(){function n(n,e,t){return e>n?e:n>t?t:n}function e(n){return 100*(-1+n)}function t(n,t,r){var i;return i="translate3d"===c.positionUsing?{transform:"translate3d("+e(n)+"%,0,0)"}:"translate"===c.positionUsing?{transform:"translate("+e(n)+"%,0)"}:{"margin-left":e(n)+"%"},i.transition="all "+t+"ms "+r,i}function r(n,e){var t="string"==typeof n?n:o(n);return t.indexOf(" "+e+" ")>=0}function i(n,e){var t=o(n),i=t+e;r(t,e)||(n.className=i.substring(1))}function s(n,e){var t,i=o(n);r(n,e)&&(t=i.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function o(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function a(n){n&&n.parentNode&&n.parentNode.removeChild(n)}var u={};u.version="0.2.0";var c=u.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};u.configure=function(n){var e,t;for(e in n)t=n[e],void 0!==t&&n.hasOwnProperty(e)&&(c[e]=t);return this},u.status=null,u.set=function(e){var r=u.isStarted();e=n(e,c.minimum,1),u.status=1===e?null:e;var i=u.render(!r),s=i.querySelector(c.barSelector),o=c.speed,a=c.easing;return i.offsetWidth,l(function(n){""===c.positionUsing&&(c.positionUsing=u.getPositioningCSS()),f(s,t(e,o,a)),1===e?(f(i,{transition:"none",opacity:1}),i.offsetWidth,setTimeout(function(){f(i,{transition:"all "+o+"ms linear",opacity:0}),setTimeout(function(){u.remove(),n()},o)},o)):setTimeout(n,o)}),this},u.isStarted=function(){return"number"==typeof u.status},u.start=function(){u.status||u.set(0);var n=function(){setTimeout(function(){u.status&&(u.trickle(),n())},c.trickleSpeed)};return c.trickle&&n(),this},u.done=function(n){return n||u.status?u.inc(.3+.5*Math.random()).set(1):this},u.inc=function(e){var t=u.status;return t?("number"!=typeof e&&(e=(1-t)*n(Math.random()*t,.1,.95)),t=n(t+e,0,.994),u.set(t)):u.start()},u.trickle=function(){return u.inc(Math.random()*c.trickleRate)},function(){var n=0,e=0;u.promise=function(t){return t&&"resolved"!==t.state()?(0===e&&u.start(),n++,e++,t.always(function(){e--,0===e?(n=0,u.done()):u.set((n-e)/n)}),this):this}}(),u.render=function(n){if(u.isRendered())return document.getElementById("nprogress");i(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=c.template;var r,s=t.querySelector(c.barSelector),o=n?"-100":e(u.status||0),l=document.querySelector(c.parent);return f(s,{transition:"all 0 linear",transform:"translate3d("+o+"%,0,0)"}),c.showSpinner||(r=t.querySelector(c.spinnerSelector),r&&a(r)),l!=document.body&&i(l,"nprogress-custom-parent"),l.appendChild(t),t},u.remove=function(){s(document.documentElement,"nprogress-busy"),s(document.querySelector(c.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&a(n)},u.isRendered=function(){return!!document.getElementById("nprogress")},u.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var l=function(){function n(){var t=e.shift();t&&t(n)}var e=[];return function(t){e.push(t),1==e.length&&n()}}(),f=function(){function n(n){return n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(n,e){return e.toUpperCase()})}function e(n){var e=document.body.style;if(n in e)return n;for(var t,r=i.length,s=n.charAt(0).toUpperCase()+n.slice(1);r--;)if(t=i[r]+s,t in e)return t;return n}function t(t){return t=n(t),s[t]||(s[t]=e(t))}function r(n,e,r){e=t(e),n.style[e]=r}var i=["Webkit","O","Moz","ms"],s={};return function(n,e){var t,i,s=arguments;if(2==s.length)for(t in e)i=e[t],void 0!==i&&e.hasOwnProperty(t)&&r(n,t,i);else r(n,s[1],s[2])}}();return u});

/* EasyNotify (https://github.com/Gabrielr47/easyNotify) (Modificado por Rascii) */
!function(o){o.fn.easyNotify=function(i){var n=o.extend({title:"Notificacion",options:{body:"",icon:"",lang:"es-ES",onClose:"",onClick:"",onError:""}},i);return this.init=function(){var o=this;if("Notification"in window)if("granted"===Notification.permission){var i=new Notification(n.title,n.options);i.onclose=function(){"function"==typeof n.options.onClose&&n.options.onClose()},i.onclick=function(){location.href=n.options.onClick},i.onerror=function(){"function"==typeof n.options.onError&&n.options.onError()}}else"denied"!==Notification.permission&&Notification.requestPermission(function(i){"granted"===i&&o.init()});else alert("Su navegador no acepta las notificaciones de escritorio.")},this.init(),this}}(jQuery);

/*! Jcrop.min.js v2.0.4 - build: 20151117
 *  Copyright 2008-2015 Tapmodo Interactive LLC
 *  Free software under MIT License
 **/
!function(a){"use strict";var b=function(c,d){var e=navigator.userAgent.toLowerCase();this.opt=a.extend({},b.defaults,d||{}),this.container=a(c),this.opt.is_msie=/msie/.test(e),this.opt.is_ie_lt9=/msie [1-8]\./.test(e),this.container.addClass(this.opt.css_container),this.ui={},this.state=null,this.ui.multi=[],this.ui.selection=null,this.filter={},this.init(),this.setOptions(d),this.applySizeConstraints(),this.container.trigger("cropinit",this),this.opt.is_ie_lt9&&(this.opt.dragEventTarget=document.body)};a.extend(b,{component:{},filter:{},stage:{},registerComponent:function(a,c){b.component[a]=c},registerFilter:function(a,c){b.filter[a]=c},registerStageType:function(a,c){b.stage[a]=c},attach:function(b,c){var d=new a.Jcrop(b,c);return d},imgCopy:function(a){var b=new Image;return b.src=a.src,b},imageClone:function(c){return a.Jcrop.supportsCanvas?b.canvasClone(c):b.imgCopy(c)},canvasClone:function(b){var c=document.createElement("canvas"),d=c.getContext("2d");return a(c).width(b.width).height(b.height),c.width=b.naturalWidth,c.height=b.naturalHeight,d.drawImage(b,0,0,b.naturalWidth,b.naturalHeight),c},propagate:function(a,b,c){for(var d=0,e=a.length;e>d;d++)b.hasOwnProperty(a[d])&&(c[a[d]]=b[a[d]])},getLargestBox:function(a,b,c){return b/c>a?[c*a,c]:[b,b/a]},stageConstructor:function(c,d,e){var f=[];a.each(b.stage,function(a,b){f.push(b)}),f.sort(function(a,b){return a.priority-b.priority});for(var g=0,h=f.length;h>g;g++)if(f[g].isSupported(c,d)){f[g].create(c,d,function(a,b){"function"==typeof e&&e(a,b)});break}},supportsColorFade:function(){return a.fx.step.hasOwnProperty("backgroundColor")},wrapFromXywh:function(a){var b={x:a[0],y:a[1],w:a[2],h:a[3]};return b.x2=b.x+b.w,b.y2=b.y+b.h,b}});var c=function(){};a.extend(c,{isSupported:function(a,b){return!0},priority:100,create:function(a,b,d){var e=new c;e.element=a,d.call(this,e,b)},prototype:{attach:function(a){this.init(a),a.ui.stage=this},triggerEvent:function(b){return a(this.element).trigger(b),this},getElement:function(){return this.element}}}),b.registerStageType("Block",c);var d=function(){};d.prototype=new c,a.extend(d,{isSupported:function(a,b){return"IMG"==a.tagName?!0:void 0},priority:90,create:function(b,c,e){a.Jcrop.component.ImageLoader.attach(b,function(f,g){var h=new d;h.element=a(b).wrap("<div />").parent(),h.element.width(f).height(g),h.imgsrc=b,"function"==typeof e&&e.call(this,h,c)})}}),b.registerStageType("Image",d);var e=function(){this.angle=0,this.scale=1,this.scaleMin=.2,this.scaleMax=1.25,this.offset=[0,0]};e.prototype=new d,a.extend(e,{isSupported:function(b,c){return a.Jcrop.supportsCanvas&&"IMG"==b.tagName?!0:void 0},priority:60,create:function(b,c,d){var f=a(b),g=a.extend({},c);a.Jcrop.component.ImageLoader.attach(b,function(a,c){var h=new e;f.hide(),h.createCanvas(b,a,c),f.before(h.element),h.imgsrc=b,g.imgsrc=b,"function"==typeof d&&(d(h,g),h.redraw())})}}),a.extend(e.prototype,{init:function(a){this.core=a},setOffset:function(a,b){return this.offset=[a,b],this},setAngle:function(a){return this.angle=a,this},setScale:function(a){return this.scale=this.boundScale(a),this},boundScale:function(a){return a<this.scaleMin?a=this.scaleMin:a>this.scaleMax&&(a=this.scaleMax),a},createCanvas:function(b,c,d){this.width=c,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=c,this.canvas.height=d,this.$canvas=a(this.canvas).width("100%").height("100%"),this.context=this.canvas.getContext("2d"),this.fillstyle="rgb(0,0,0)",this.element=this.$canvas.wrap("<div />").parent().width(c).height(d)},triggerEvent:function(a){return this.$canvas.trigger(a),this},clear:function(){return this.context.fillStyle=this.fillstyle,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this},redraw:function(){return this.context.save(),this.clear(),this.context.translate(parseInt(.5*this.width),parseInt(.5*this.height)),this.context.translate(this.offset[0]/this.core.opt.xscale,this.offset[1]/this.core.opt.yscale),this.context.rotate(this.angle*(Math.PI/180)),this.context.scale(this.scale,this.scale),this.context.translate(-parseInt(.5*this.width),-parseInt(.5*this.height)),this.context.drawImage(this.imgsrc,0,0,this.width,this.height),this.context.restore(),this.$canvas.trigger("cropredraw"),this},setFillStyle:function(a){return this.fillstyle=a,this}}),b.registerStageType("Canvas",e);var f=function(){this.minw=40,this.minh=40,this.maxw=0,this.maxh=0,this.core=null};a.extend(f.prototype,{tag:"backoff",priority:22,filter:function(a){var b=this.bound;return a.x<b.minx&&(a.x=b.minx,a.x2=a.w+a.x),a.y<b.miny&&(a.y=b.miny,a.y2=a.h+a.y),a.x2>b.maxx&&(a.x2=b.maxx,a.x=a.x2-a.w),a.y2>b.maxy&&(a.y2=b.maxy,a.y=a.y2-a.h),a},refresh:function(a){this.elw=a.core.container.width(),this.elh=a.core.container.height(),this.bound={minx:0+a.edge.w,miny:0+a.edge.n,maxx:this.elw+a.edge.e,maxy:this.elh+a.edge.s}}}),b.registerFilter("backoff",f);var g=function(){this.core=null};a.extend(g.prototype,{tag:"constrain",priority:5,filter:function(a,b){return"move"==b?(a.x<this.minx&&(a.x=this.minx,a.x2=a.w+a.x),a.y<this.miny&&(a.y=this.miny,a.y2=a.h+a.y),a.x2>this.maxx&&(a.x2=this.maxx,a.x=a.x2-a.w),a.y2>this.maxy&&(a.y2=this.maxy,a.y=a.y2-a.h)):(a.x<this.minx&&(a.x=this.minx),a.y<this.miny&&(a.y=this.miny),a.x2>this.maxx&&(a.x2=this.maxx),a.y2>this.maxy&&(a.y2=this.maxy)),a.w=a.x2-a.x,a.h=a.y2-a.y,a},refresh:function(a){this.elw=a.core.container.width(),this.elh=a.core.container.height(),this.minx=0+a.edge.w,this.miny=0+a.edge.n,this.maxx=this.elw+a.edge.e,this.maxy=this.elh+a.edge.s}}),b.registerFilter("constrain",g);var h=function(){this.core=null};a.extend(h.prototype,{tag:"extent",priority:12,offsetFromCorner:function(a,b,c){var d=b[0],e=b[1];switch(a){case"bl":return[c.x2-d,c.y,d,e];case"tl":return[c.x2-d,c.y2-e,d,e];case"br":return[c.x,c.y,d,e];case"tr":return[c.x,c.y2-e,d,e]}},getQuadrant:function(a){var b=a.opposite[0]-a.offsetx,c=a.opposite[1]-a.offsety;return 0>b&&0>c?"br":b>=0&&c>=0?"tl":0>b&&c>=0?"tr":"bl"},filter:function(a,c,d){if("move"==c)return a;var e=a.w,f=a.h,g=d.state,h=this.limits,i=g?this.getQuadrant(g):"br";return h.minw&&e<h.minw&&(e=h.minw),h.minh&&f<h.minh&&(f=h.minh),h.maxw&&e>h.maxw&&(e=h.maxw),h.maxh&&f>h.maxh&&(f=h.maxh),e==a.w&&f==a.h?a:b.wrapFromXywh(this.offsetFromCorner(i,[e,f],a))},refresh:function(a){this.elw=a.core.container.width(),this.elh=a.core.container.height(),this.limits={minw:a.minSize[0],minh:a.minSize[1],maxw:a.maxSize[0],maxh:a.maxSize[1]}}}),b.registerFilter("extent",h);var i=function(){this.stepx=1,this.stepy=1,this.core=null};a.extend(i.prototype,{tag:"grid",priority:19,filter:function(a){var b={x:Math.round(a.x/this.stepx)*this.stepx,y:Math.round(a.y/this.stepy)*this.stepy,x2:Math.round(a.x2/this.stepx)*this.stepx,y2:Math.round(a.y2/this.stepy)*this.stepy};return b.w=b.x2-b.x,b.h=b.y2-b.y,b}}),b.registerFilter("grid",i);var j=function(){this.ratio=0,this.core=null};a.extend(j.prototype,{tag:"ratio",priority:15,offsetFromCorner:function(a,b,c){var d=b[0],e=b[1];switch(a){case"bl":return[c.x2-d,c.y,d,e];case"tl":return[c.x2-d,c.y2-e,d,e];case"br":return[c.x,c.y,d,e];case"tr":return[c.x,c.y2-e,d,e]}},getBoundRatio:function(a,c){var d=b.getLargestBox(this.ratio,a.w,a.h);return b.wrapFromXywh(this.offsetFromCorner(c,d,a))},getQuadrant:function(a){var b=a.opposite[0]-a.offsetx,c=a.opposite[1]-a.offsety;return 0>b&&0>c?"br":b>=0&&c>=0?"tl":0>b&&c>=0?"tr":"bl"},filter:function(a,b,c){if(!this.ratio)return a;var d=(a.w/a.h,c.state),e=d?this.getQuadrant(d):"br";if(b=b||"se","move"==b)return a;switch(b){case"n":a.x2=this.elw,a.w=a.x2-a.x,e="tr";break;case"s":a.x2=this.elw,a.w=a.x2-a.x,e="br";break;case"e":a.y2=this.elh,a.h=a.y2-a.y,e="br";break;case"w":a.y2=this.elh,a.h=a.y2-a.y,e="bl"}return this.getBoundRatio(a,e)},refresh:function(a){this.ratio=a.aspectRatio,this.elw=a.core.container.width(),this.elh=a.core.container.height()}}),b.registerFilter("ratio",j);var k=function(){this.core=null};a.extend(k.prototype,{tag:"round",priority:90,filter:function(a){var b={x:Math.round(a.x),y:Math.round(a.y),x2:Math.round(a.x2),y2:Math.round(a.y2)};return b.w=b.x2-b.x,b.h=b.y2-b.y,b}}),b.registerFilter("round",k);var l=function(a,b){this.color=b||"black",this.opacity=a||.5,this.core=null,this.shades={}};a.extend(l.prototype,{tag:"shader",fade:!0,fadeEasing:"swing",fadeSpeed:320,priority:95,init:function(){var b=this;b.attached||(b.visible=!1,b.container=a("<div />").addClass(b.core.opt.css_shades).prependTo(this.core.container).hide(),b.elh=this.core.container.height(),b.elw=this.core.container.width(),b.shades={top:b.createShade(),right:b.createShade(),left:b.createShade(),bottom:b.createShade()},b.attached=!0)},destroy:function(){this.container.remove()},setColor:function(c,d){var e=this;if(c==e.color)return e;this.color=c;var f=b.supportsColorFade();return a.each(e.shades,function(a,b){e.fade&&!d&&f?b.animate({backgroundColor:c},{queue:!1,duration:e.fadeSpeed,easing:e.fadeEasing}):b.css("backgroundColor",c)}),e},setOpacity:function(b,c){var d=this;return b==d.opacity?d:(d.opacity=b,a.each(d.shades,function(a,e){!d.fade||c?e.css({opacity:b}):e.animate({opacity:b},{queue:!1,duration:d.fadeSpeed,easing:d.fadeEasing})}),d)},createShade:function(){return a("<div />").css({position:"absolute",backgroundColor:this.color,opacity:this.opacity}).appendTo(this.container)},refresh:function(a){var b=this.core,c=this.shades;this.setColor(a.bgColor?a.bgColor:this.core.opt.bgColor),this.setOpacity(a.bgOpacity?a.bgOpacity:this.core.opt.bgOpacity),this.elh=b.container.height(),this.elw=b.container.width(),c.right.css("height",this.elh+"px"),c.left.css("height",this.elh+"px")},filter:function(a,b,c){if(!c.active)return a;var d=this,e=d.shades;return e.top.css({left:Math.round(a.x)+"px",width:Math.round(a.w)+"px",height:Math.round(a.y)+"px"}),e.bottom.css({top:Math.round(a.y2)+"px",left:Math.round(a.x)+"px",width:Math.round(a.w)+"px",height:d.elh-Math.round(a.y2)+"px"}),e.right.css({left:Math.round(a.x2)+"px",width:d.elw-Math.round(a.x2)+"px"}),e.left.css({width:Math.round(a.x)+"px"}),d.visible||(d.container.show(),d.visible=!0),a}}),b.registerFilter("shader",l);var m=function(a){this.stage=a,this.core=a.core,this.cloneStagePosition()};m.prototype={cloneStagePosition:function(){var a=this.stage;this.angle=a.angle,this.scale=a.scale,this.offset=a.offset},getElement:function(){var b=this.stage;return a("<div />").css({position:"absolute",top:b.offset[0]+"px",left:b.offset[1]+"px",width:b.angle+"px",height:b.scale+"px"})},animate:function(a){var b=this;this.scale=this.stage.boundScale(this.scale),b.stage.triggerEvent("croprotstart"),b.getElement().animate({top:b.offset[0]+"px",left:b.offset[1]+"px",width:b.angle+"px",height:b.scale+"px"},{easing:b.core.opt.animEasing,duration:b.core.opt.animDuration,complete:function(){b.stage.triggerEvent("croprotend"),"function"==typeof a&&a.call(this)},progress:function(a){var c,d={},e=a.tweens;for(c=0;c<e.length;c++)d[e[c].prop]=e[c].now;b.stage.setAngle(d.width).setScale(d.height).setOffset(d.top,d.left).redraw()}})}},b.stage.Canvas.prototype.getAnimator=function(){return new m(this)},b.registerComponent("CanvasAnimator",m);var o=function(a){this.selection=a,this.core=a.core};o.prototype={getElement:function(){var b=this.selection.get();return a("<div />").css({position:"absolute",top:b.y+"px",left:b.x+"px",width:b.w+"px",height:b.h+"px"})},animate:function(a,b,c,d,e){var f=this;f.selection.allowResize(!1),f.getElement().animate({top:b+"px",left:a+"px",width:c+"px",height:d+"px"},{easing:f.core.opt.animEasing,duration:f.core.opt.animDuration,complete:function(){f.selection.allowResize(!0),e&&e.call(this)},progress:function(a){var b,c={},d=a.tweens;for(b=0;b<d.length;b++)c[d[b].prop]=d[b].now;var e={x:parseInt(c.left),y:parseInt(c.top),w:parseInt(c.width),h:parseInt(c.height)};e.x2=e.x+e.w,e.y2=e.y+e.h,f.selection.updateRaw(e,"se")}})}},b.registerComponent("Animator",o);var p=function(a,b,c){var d=this;d.x=a.pageX,d.y=a.pageY,d.selection=b,d.eventTarget=b.core.opt.dragEventTarget,d.orig=b.get(),b.callFilterFunction("refresh");var e=b.core.container.position();d.elx=e.left,d.ely=e.top,d.offsetx=0,d.offsety=0,d.ord=c,d.opposite=d.getOppositeCornerOffset(),d.initEvents(a)};p.prototype={getOppositeCornerOffset:function(){var a=this.orig,b=this.x-this.elx-a.x,c=this.y-this.ely-a.y;switch(this.ord){case"nw":case"w":return[a.w-b,a.h-c];case"sw":return[a.w-b,-c];case"se":case"s":case"e":return[-b,-c];case"ne":case"n":return[-b,a.h-c]}return[null,null]},initEvents:function(b){a(this.eventTarget).on("mousemove.jcrop",this.createDragHandler()).on("mouseup.jcrop",this.createStopHandler())},dragEvent:function(a){this.offsetx=a.pageX-this.x,this.offsety=a.pageY-this.y,this.selection.updateRaw(this.getBox(),this.ord)},endDragEvent:function(a){var b=this.selection;b.core.container.removeClass("jcrop-dragging"),b.element.trigger("cropend",[b,b.core.unscale(b.get())]),b.focus()},createStopHandler:function(){var b=this;return function(c){return a(b.eventTarget).off(".jcrop"),b.endDragEvent(c),!1}},createDragHandler:function(){var a=this;return function(b){return a.dragEvent(b),!1}},update:function(a,b){var c=this;c.offsetx=a-c.x,c.offsety=b-c.y},resultWrap:function(a){var b={x:Math.min(a[0],a[2]),y:Math.min(a[1],a[3]),x2:Math.max(a[0],a[2]),y2:Math.max(a[1],a[3])};return b.w=b.x2-b.x,b.h=b.y2-b.y,b},getBox:function(){var a=this,b=a.orig,c={x2:b.x+b.w,y2:b.y+b.h};switch(a.ord){case"n":return a.resultWrap([b.x,a.offsety+b.y,c.x2,c.y2]);case"s":return a.resultWrap([b.x,b.y,c.x2,a.offsety+c.y2]);case"e":return a.resultWrap([b.x,b.y,a.offsetx+c.x2,c.y2]);case"w":return a.resultWrap([b.x+a.offsetx,b.y,c.x2,c.y2]);case"sw":return a.resultWrap([a.offsetx+b.x,b.y,c.x2,a.offsety+c.y2]);case"se":return a.resultWrap([b.x,b.y,a.offsetx+c.x2,a.offsety+c.y2]);case"ne":return a.resultWrap([b.x,a.offsety+b.y,a.offsetx+c.x2,c.y2]);case"nw":return a.resultWrap([a.offsetx+b.x,a.offsety+b.y,c.x2,c.y2]);case"move":return c.nx=b.x+a.offsetx,c.ny=b.y+a.offsety,a.resultWrap([c.nx,c.ny,c.nx+b.w,c.ny+b.h])}}},b.registerComponent("DragState",p);var q=function(a){this.core=a};q.prototype={on:function(b,c){a(this).on(b,c)},off:function(b){a(this).off(b)},trigger:function(b){a(this).trigger(b)}},b.registerComponent("EventManager",q);var r=function(a,b,c){this.src=a,b||(b=new Image),this.element=b,this.callback=c,this.load()};a.extend(r,{attach:function(a,b){return new r(a.src,a,b)},prototype:{getDimensions:function(){var a=this.element;return a.naturalWidth?[a.naturalWidth,a.naturalHeight]:a.width?[a.width,a.height]:null},fireCallback:function(){this.element.onload=null,"function"==typeof this.callback&&this.callback.apply(this,this.getDimensions())},isLoaded:function(){return this.element.complete},load:function(){var a=this,b=a.element;b.src=a.src,a.isLoaded()?a.fireCallback():a.element.onload=function(b){a.fireCallback()}}}}),b.registerComponent("ImageLoader",r);var s=function(a){this.core=a,this.init()};a.extend(s,{support:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch?!0:void 0},prototype:{init:function(){var b=this,c=a.Jcrop.component.DragState.prototype;c.touch||(b.initEvents(),b.shimDragState(),b.shimStageDrag(),c.touch=!0)},shimDragState:function(){var b=this;a.Jcrop.component.DragState.prototype.initEvents=function(c){"touch"==c.type.substr(0,5)?a(this.eventTarget).on("touchmove.jcrop.jcrop-touch",b.dragWrap(this.createDragHandler())).on("touchend.jcrop.jcrop-touch",this.createStopHandler()):a(this.eventTarget).on("mousemove.jcrop",this.createDragHandler()).on("mouseup.jcrop",this.createStopHandler())}},shimStageDrag:function(){this.core.container.addClass("jcrop-touch").on("touchstart.jcrop.jcrop-stage",this.dragWrap(this.core.ui.manager.startDragHandler()))},dragWrap:function(a){return function(b){return b.preventDefault(),b.stopPropagation(),"touch"==b.type.substr(0,5)?(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,a(b)):!1}},initEvents:function(){var a=this,b=a.core;b.container.on("touchstart.jcrop.jcrop-touch","."+b.opt.css_drag,a.dragWrap(b.startDrag()))}}}),b.registerComponent("Touch",s);var t=function(a){this.core=a,this.init()};a.extend(t,{defaults:{eventName:"keydown.jcrop",passthru:[9],debug:!1},prototype:{init:function(){a.extend(this,t.defaults),this.enable()},disable:function(){this.core.container.off(this.eventName)},enable:function(){var b=this,c=b.core;c.container.on(b.eventName,function(d){var e=d.shiftKey?16:2;if(a.inArray(d.keyCode,b.passthru)>=0)return!0;switch(d.keyCode){case 37:c.nudge(-e,0);break;case 38:c.nudge(0,-e);break;case 39:c.nudge(e,0);break;case 40:c.nudge(0,e);break;case 46:case 8:return c.requestDelete(),!1;default:b.debug&&console.log("keycode: "+d.keyCode)}d.metaKey||d.ctrlKey||d.preventDefault()})}}}),b.registerComponent("Keyboard",t);var u=function(){};a.extend(u,{defaults:{minSize:[8,8],maxSize:[0,0],aspectRatio:0,edge:{n:0,s:0,e:0,w:0},bgColor:null,bgOpacity:null,last:null,state:null,active:!0,linked:!0,canDelete:!0,canDrag:!0,canResize:!0,canSelect:!0},prototype:{init:function(a){this.core=a,this.startup(),this.linked=this.core.opt.linked,this.attach(),this.setOptions(this.core.opt),a.container.trigger("cropcreate",[this])},attach:function(){},startup:function(){var b=this,c=b.core.opt;a.extend(b,u.defaults),b.filter=b.core.getDefaultFilters(),b.element=a("<div />").addClass(c.css_selection).data({selection:b}),b.frame=a("<button />").addClass(c.css_button).data("ord","move").attr("type","button"),b.element.append(b.frame).appendTo(b.core.container),b.core.opt.is_msie&&b.frame.css({opacity:0,backgroundColor:"white"}),b.insertElements(),b.frame.on("focus.jcrop",function(a){b.core.setSelection(b),b.element.trigger("cropfocus",b),b.element.addClass("jcrop-focus")}).on("blur.jcrop",function(a){b.element.removeClass("jcrop-focus"),b.element.trigger("cropblur",b)})},propagate:["canDelete","canDrag","canResize","canSelect","minSize","maxSize","aspectRatio","edge"],setOptions:function(a){return b.propagate(this.propagate,a,this),this.refresh(),this},refresh:function(){this.allowResize(),this.allowDrag(),this.allowSelect(),this.callFilterFunction("refresh"),this.updateRaw(this.get(),"se")},callFilterFunction:function(a,b){for(var c=0;c<this.filter.length;c++)this.filter[c][a]&&this.filter[c][a](this);return this},addFilter:function(a){a.core=this.core,this.hasFilter(a)||(this.filter.push(a),this.sortFilters(),a.init&&a.init(),this.refresh())},hasFilter:function(a){var b,c=this.filter;for(b=0;b<c.length;b++)if(c[b]===a)return!0},sortFilters:function(){this.filter.sort(function(a,b){return a.priority-b.priority})},clearFilters:function(){for(var a,b=this.filter,a=0;a<b.length;a++)b[a].destroy&&b[a].destroy();this.filter=[]},removeFilter:function(a){for(var b,c=this.filter,d=[],b=0;b<c.length;b++)c[b].tag&&c[b].tag==a||a===c[b]?c[b].destroy&&c[b].destroy():d.push(c[b]);this.filter=d},runFilters:function(a,b){for(var c=0;c<this.filter.length;c++)a=this.filter[c].filter(a,b,this);return a},endDrag:function(){this.state&&(a(document.body).off(".jcrop"),this.focus(),this.state=null)},startDrag:function(c,d){var e=this;e.core;return d=d||a(c.target).data("ord"),this.focus(),"move"==d&&e.element.hasClass(e.core.opt.css_nodrag)?!1:(this.state=new b.component.DragState(c,this,d),!1)},allowSelect:function(a){return void 0===a&&(a=this.canSelect),a&&this.canSelect?this.frame.attr("disabled",!1):this.frame.attr("disabled","disabled"),this},allowDrag:function(a){var b=this,c=b.core.opt;return void 0==a&&(a=b.canDrag),a&&b.canDrag?b.element.removeClass(c.css_nodrag):b.element.addClass(c.css_nodrag),this},allowResize:function(a){var b=this,c=b.core.opt;return void 0==a&&(a=b.canResize),a&&b.canResize?b.element.removeClass(c.css_noresize):b.element.addClass(c.css_noresize),this},remove:function(){this.element.trigger("cropremove",this),this.element.remove()},toBack:function(){this.active=!1,this.element.removeClass("jcrop-current jcrop-focus")},toFront:function(){this.active=!0,this.element.addClass("jcrop-current"),this.callFilterFunction("refresh"),this.refresh()},redraw:function(a){return this.moveTo(a.x,a.y),this.resize(a.w,a.h),this.last=a,this},update:function(a,b){return this.updateRaw(this.core.scale(a),b)},updateRaw:function(a,b){return a=this.runFilters(a,b),this.redraw(a),this.element.trigger("cropmove",[this,this.core.unscale(a)]),this},animateTo:function(a,c){var d=new b.component.Animator(this),e=this.core.scale(b.wrapFromXywh(a));d.animate(e.x,e.y,e.w,e.h,c)},center:function(a){var b=this.get(),c=this.core,d=c.container.width(),e=c.container.height(),f=[(d-b.w)/2,(e-b.h)/2,b.w,b.h];return this[a?"setSelect":"animateTo"](f)},createElement:function(b,c){return a("<div />").addClass(b+" ord-"+c).data("ord",c)},moveTo:function(a,b){this.element.css({top:b+"px",left:a+"px"})},blur:function(){return this.element.blur(),this},focus:function(){return this.core.setSelection(this),this.frame.focus(),this},resize:function(a,b){this.element.css({width:a+"px",height:b+"px"})},get:function(){var a=this.element,b=a.position(),c=a.width(),d=a.height(),e={x:b.left,y:b.top};return e.x2=e.x+c,e.y2=e.y+d,e.w=c,e.h=d,e},insertElements:function(){var a,b=this,c=(b.core,b.element),d=b.core.opt,e=d.borders,f=d.handles,g=d.dragbars;for(a=0;a<g.length;a++)c.append(b.createElement(d.css_dragbars,g[a]));for(a=0;a<f.length;a++)c.append(b.createElement(d.css_handles,f[a]));for(a=0;a<e.length;a++)c.append(b.createElement(d.css_borders,e[a]))}}}),b.registerComponent("Selection",u);var v=function(b,c){a.extend(this,v.defaults,c||{}),this.manager=b,this.core=b.core};v.defaults={offset:[-8,-8],active:!0,minsize:[20,20]},a.extend(v.prototype,{start:function(c){var d=this.core;if(d.opt.allowSelect){if(d.opt.multi&&d.opt.multiMax&&d.ui.multi.length>=d.opt.multiMax)return!1;var e=a(c.currentTarget).offset(),f=c.pageX-e.left+this.offset[0],g=c.pageY-e.top+this.offset[1],h=d.ui.multi;if(!d.opt.multi)if(d.opt.multiCleanup){for(var i=0;i<h.length;i++)h[i].remove();d.ui.multi=[]}else d.removeSelection(d.ui.selection);d.container.addClass("jcrop-dragging");var j=d.newSelection().updateRaw(b.wrapFromXywh([f,g,1,1]));return j.element.trigger("cropstart",[j,this.core.unscale(j.get())]),j.startDrag(c,"se")}},end:function(a,b){this.drag(a,b);var c=this.sel.get();this.core.container.removeClass("jcrop-dragging"),c.w<this.minsize[0]||c.h<this.minsize[1]?this.core.requestDelete():this.sel.focus()}}),b.registerComponent("StageDrag",v);var w=function(a){this.core=a,this.ui=a.ui,this.init()};a.extend(w.prototype,{init:function(){this.setupEvents(),this.dragger=new v(this)},tellConfigUpdate:function(a){for(var b=0,c=this.ui.multi,d=c.length;d>b;b++)c[b].setOptions&&(c[b].linked||this.core.opt.linkCurrent&&c[b]==this.ui.selection)&&c[b].setOptions(a)},startDragHandler:function(){var a=this;return function(b){return!b.button||a.core.opt.is_ie_lt9?a.dragger.start(b):void 0}},removeEvents:function(){this.core.event.off(".jcrop-stage"),this.core.container.off(".jcrop-stage")},shimLegacyHandlers:function(b){var c,d=this.core;a.each(d.opt.legacyHandlers,function(a,e){a in b&&(c=b[a],d.container.off(".jcrop-"+a).on(e+".jcrop.jcrop-"+a,function(a,b,e){c.call(d,e)}),delete b[a])})},setupEvents:function(){var a=this,b=a.core;b.event.on("configupdate.jcrop-stage",function(c){a.shimLegacyHandlers(b.opt),a.tellConfigUpdate(b.opt),b.container.trigger("cropconfig",[b,b.opt])}),this.core.container.on("mousedown.jcrop.jcrop-stage",this.startDragHandler())}}),b.registerComponent("StageManager",w);var x=function(){};a.extend(x,{defaults:{selection:null,fading:!0,fadeDelay:1e3,fadeDuration:1e3,autoHide:!1,width:80,height:80,_hiding:null},prototype:{recopyCanvas:function(){var a=this.core.ui.stage,b=a.context;this.context.putImageData(b.getImageData(0,0,a.canvas.width,a.canvas.height),0,0)},init:function(b,c){var d=this;this.core=b,a.extend(this,x.defaults,c),d.initEvents(),d.refresh(),d.insertElements(),d.selection?(d.renderSelection(d.selection),d.selectionTarget=d.selection.element[0]):d.core.ui.selection&&d.renderSelection(d.core.ui.selection),d.core.ui.stage.canvas&&(d.context=d.preview[0].getContext("2d"),d.core.container.on("cropredraw",function(a){d.recopyCanvas(),d.refresh()}))},updateImage:function(b){return this.preview.remove(),this.preview=a(a.Jcrop.imageClone(b)),this.element.append(this.preview),this.refresh(),this},insertElements:function(){this.preview=a(a.Jcrop.imageClone(this.core.ui.stage.imgsrc)),this.element=a("<div />").addClass("jcrop-thumb").width(this.width).height(this.height).append(this.preview).appendTo(this.core.container)},resize:function(a,b){this.width=a,this.height=b,this.element.width(a).height(b),this.renderCoords(this.last)},refresh:function(){this.cw=this.core.opt.xscale*this.core.container.width(),this.ch=this.core.opt.yscale*this.core.container.height(),this.last&&this.renderCoords(this.last)},renderCoords:function(a){var b=this.width/a.w,c=this.height/a.h;return this.preview.css({width:Math.round(b*this.cw)+"px",height:Math.round(c*this.ch)+"px",marginLeft:"-"+Math.round(b*a.x)+"px",marginTop:"-"+Math.round(c*a.y)+"px"}),this.last=a,this},renderSelection:function(a){return this.renderCoords(a.core.unscale(a.get()))},selectionStart:function(a){this.renderSelection(a)},show:function(){this._hiding&&clearTimeout(this._hiding),this.fading?this.element.stop().animate({opacity:1},{duration:80,queue:!1}):this.element.stop().css({opacity:1})},hide:function(){var a=this;a.fading?a._hiding=setTimeout(function(){a._hiding=null,a.element.stop().animate({opacity:0},{duration:a.fadeDuration,queue:!1})},a.fadeDelay):a.element.hide()},initEvents:function(){var a=this;a.core.container.on("croprotstart croprotend cropimage cropstart cropmove cropend",function(b,c,d){if(a.selectionTarget&&a.selectionTarget!==b.target)return!1;switch(b.type){case"cropimage":a.updateImage(d);break;case"cropstart":a.selectionStart(c);case"croprotstart":a.show();break;case"cropend":a.renderCoords(d);case"croprotend":a.autoHide&&a.hide();break;case"cropmove":a.renderCoords(d)}})}}}),b.registerComponent("Thumbnailer",x);var y=function(){};y.prototype={init:function(b,c,d){c||(c=b.container),this.$btn=a(c),this.$targ=a(c),this.core=b,this.$btn.addClass("dialdrag").on("mousedown.dialdrag",this.mousedown()).data("dialdrag",this),a.isFunction(d)||(d=function(){}),this.callback=d,this.ondone=d},remove:function(){return this.$btn.removeClass("dialdrag").off(".dialdrag").data("dialdrag",null),this},setTarget:function(b){return this.$targ=a(b),this},getOffset:function(){var a=this.$targ,b=a.offset();return[b.left+a.width()/2,b.top+a.height()/2]},relMouse:function(a){var b=a.pageX-this.offset[0],c=a.pageY-this.offset[1],d=Math.atan2(c,b)*(180/Math.PI),e=Math.sqrt(Math.pow(b,2)+Math.pow(c,2));return[b,c,d,e]},mousedown:function(){function b(b){a(window).off(".dialdrag"),d.ondone.call(d,d.relMouse(b)),d.core.container.trigger("croprotend")}function c(a){d.callback.call(d,d.relMouse(a))}var d=this;return function(e){d.offset=d.getOffset();var f=d.relMouse(e);return d.angleOffset=-d.core.ui.stage.angle+f[2],d.distOffset=f[3],d.dragOffset=[f[0],f[1]],d.core.container.trigger("croprotstart"),a(window).on("mousemove.dialdrag",c).on("mouseup.dialdrag",b),d.callback.call(d,d.relMouse(e)),!1}}},b.registerComponent("DialDrag",y),b.defaults={edge:{n:0,s:0,e:0,w:0},setSelect:null,linked:!0,linkCurrent:!0,canDelete:!0,canSelect:!0,canDrag:!0,canResize:!0,eventManagerComponent:b.component.EventManager,keyboardComponent:b.component.Keyboard,dragstateComponent:b.component.DragState,stagemanagerComponent:b.component.StageManager,animatorComponent:b.component.Animator,selectionComponent:b.component.Selection,stageConstructor:b.stageConstructor,allowSelect:!0,multi:!1,multiMax:!1,multiCleanup:!0,animation:!0,animEasing:"swing",animDuration:400,fading:!0,fadeDuration:300,fadeEasing:"swing",bgColor:"black",bgOpacity:.5,applyFilters:["constrain","extent","backoff","ratio","shader","round"],borders:["e","w","s","n"],handles:["n","s","e","w","sw","ne","nw","se"],dragbars:["n","e","w","s"],dragEventTarget:window,xscale:1,yscale:1,boxWidth:null,boxHeight:null,css_nodrag:"jcrop-nodrag",css_drag:"jcrop-drag",css_container:"jcrop-active",css_shades:"jcrop-shades",css_selection:"jcrop-selection",css_borders:"jcrop-border",css_handles:"jcrop-handle jcrop-drag",css_button:"jcrop-box jcrop-drag",css_noresize:"jcrop-noresize",css_dragbars:"jcrop-dragbar jcrop-drag",legacyHandlers:{onChange:"cropmove",onSelect:"cropend"}},a.extend(b.prototype,{init:function(){this.event=new this.opt.eventManagerComponent(this),this.ui.keyboard=new this.opt.keyboardComponent(this),this.ui.manager=new this.opt.stagemanagerComponent(this),this.applyFilters(),a.Jcrop.supportsTouch&&new a.Jcrop.component.Touch(this),this.initEvents()},applySizeConstraints:function(){var c=this.opt,d=this.opt.imgsrc;if(d){var e=d.naturalWidth||d.width,f=d.naturalHeight||d.height,g=c.boxWidth||e,h=c.boxHeight||f;if(d&&(e>g||f>h)){var i=b.getLargestBox(e/f,g,h);a(d).width(i[0]).height(i[1]),this.resizeContainer(i[0],i[1]),this.opt.xscale=e/i[0],this.opt.yscale=f/i[1]}}if(this.opt.trueSize){var j=this.opt.trueSize[0],k=this.opt.trueSize[1],l=this.getContainerSize();this.opt.xscale=j/l[0],this.opt.yscale=k/l[1]}},initComponent:function(a){if(b.component[a]){var c=Array.prototype.slice.call(arguments),d=new b.component[a];return c.shift(),c.unshift(this),d.init.apply(d,c),d}},setOptions:function(b,c){return a.isPlainObject(b)||(b={}),a.extend(this.opt,b),this.opt.setSelect&&(this.ui.multi.length||this.newSelection(),this.setSelect(this.opt.setSelect),this.opt.setSelect=null),this.event.trigger("configupdate"),this},destroy:function(){this.opt.imgsrc?(this.container.before(this.opt.imgsrc),this.container.remove(),a(this.opt.imgsrc).removeData("Jcrop").show()):this.container.remove()},applyFilters:function(){for(var b,c=0,d=this.opt.applyFilters,e=d.length;e>c;c++)a.Jcrop.filter[d[c]]&&(b=new a.Jcrop.filter[d[c]]),b.core=this,b.init&&b.init(),this.filter[d[c]]=b},getDefaultFilters:function(){for(var a=[],b=0,c=this.opt.applyFilters,d=c.length;d>b;b++)this.filter.hasOwnProperty(c[b])&&a.push(this.filter[c[b]]);return a.sort(function(a,b){return a.priority-b.priority}),a},setSelection:function(a){for(var b=this.ui.multi,c=[],d=0;d<b.length;d++)b[d]!==a&&c.push(b[d]),b[d].toBack();return c.unshift(a),this.ui.multi=c,this.ui.selection=a,a.toFront(),a},getSelection:function(a){var b=this.ui.selection.get();return b},newSelection:function(a){return a||(a=new this.opt.selectionComponent),a.init(this),this.setSelection(a),a},hasSelection:function(a){for(var b=0;b<this.ui.multi;b++)if(a===this.ui.multi[b])return!0},removeSelection:function(a){for(var b,c=[],d=this.ui.multi,b=0;b<d.length;b++)a!==d[b]?c.push(d[b]):d[b].remove();return this.ui.multi=c},addFilter:function(a){for(var b=0,c=this.ui.multi,d=c.length;d>b;b++)c[b].addFilter(a);return this},removeFilter:function(a){for(var b=0,c=this.ui.multi,d=c.length;d>b;b++)c[b].removeFilter(a);return this},blur:function(){return this.ui.selection.blur(),this},focus:function(){return this.ui.selection.focus(),this},initEvents:function(){var a=this;a.container.on("selectstart",function(a){return!1}).on("mousedown","."+a.opt.css_drag,a.startDrag())},maxSelect:function(){this.setSelect([0,0,this.elw,this.elh])},nudge:function(a,b){var c=this.ui.selection,d=c.get();d.x+=a,d.x2+=a,d.y+=b,d.y2+=b,d.x<0?(d.x2=d.w,d.x=0):d.x2>this.elw&&(d.x2=this.elw,d.x=d.x2-d.w),d.y<0?(d.y2=d.h,d.y=0):d.y2>this.elh&&(d.y2=this.elh,d.y=d.y2-d.h),c.element.trigger("cropstart",[c,this.unscale(d)]),c.updateRaw(d,"move"),c.element.trigger("cropend",[c,this.unscale(d)])},refresh:function(){for(var a=0,b=this.ui.multi,c=b.length;c>a;a++)b[a].refresh()},blurAll:function(){for(var a=this.ui.multi,b=0;b<a.length;b++)a[b]!==sel&&n.push(a[b]),a[b].toBack()},scale:function(a){var b=this.opt.xscale,c=this.opt.yscale;return{x:a.x/b,y:a.y/c,x2:a.x2/b,y2:a.y2/c,
w:a.w/b,h:a.h/c}},unscale:function(a){var b=this.opt.xscale,c=this.opt.yscale;return{x:a.x*b,y:a.y*c,x2:a.x2*b,y2:a.y2*c,w:a.w*b,h:a.h*c}},requestDelete:function(){return this.ui.multi.length>1&&this.ui.selection.canDelete?this.deleteSelection():void 0},deleteSelection:function(){this.ui.selection&&(this.removeSelection(this.ui.selection),this.ui.multi.length&&this.ui.multi[0].focus(),this.ui.selection.refresh())},animateTo:function(a){return this.ui.selection&&this.ui.selection.animateTo(a),this},setSelect:function(a){return this.ui.selection&&this.ui.selection.update(b.wrapFromXywh(a)),this},startDrag:function(){var b=this;return function(c){var d=a(c.target),e=d.closest("."+b.opt.css_selection).data("selection"),f=d.data("ord");return b.container.trigger("cropstart",[e,b.unscale(e.get())]),e.startDrag(c,f),!1}},getContainerSize:function(){return[this.container.width(),this.container.height()]},resizeContainer:function(a,b){this.container.width(a).height(b),this.refresh()},setImage:function(b,c){var d=this,e=d.opt.imgsrc;return e?void new a.Jcrop.component.ImageLoader(b,null,function(f,g){d.resizeContainer(f,g),e.src=b,a(e).width(f).height(g),d.applySizeConstraints(),d.refresh(),d.container.trigger("cropimage",[d,e]),"function"==typeof c&&c.call(d,f,g)}):!1},update:function(a){this.ui.selection&&this.ui.selection.update(a)}}),a.fn.Jcrop=function(b,c){b=b||{};var d=this.eq(0).data("Jcrop"),e=Array.prototype.slice.call(arguments);return"api"==b?d:d&&"string"==typeof b?d[b]?(e.shift(),d[b].apply(d,e),d):!1:void this.each(function(){var d=a(this),e=d.data("Jcrop");return e?e.setOptions(b):(b.stageConstructor||(b.stageConstructor=a.Jcrop.stageConstructor),b.stageConstructor(this,b,function(b,e){var f=e.setSelect;f&&delete e.setSelect;var g=a.Jcrop.attach(b.element,e);"function"==typeof b.attach&&b.attach(g),d.data("Jcrop",g),f&&(g.newSelection(),g.setSelect(f)),"function"==typeof c&&c.call(g)})),this})};var z=function(a,b,c){function d(a){r.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&r[e]!==c)return"pfx"==b?e:!0}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.on(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+v.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+w.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l,m="2.7.1",n={},o=b.documentElement,p="modernizr",q=b.createElement(p),r=q.style,s={}.toString,t=" -webkit- -moz- -o- -ms- ".split(" "),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={svg:"http://www.w3.org/2000/svg"},y={},z=[],A=z.slice,B=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:p+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',p,'">',a,"</style>"].join(""),j.id=p,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=o.style.overflow,o.style.overflow="hidden",o.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),o.style.overflow=i),!!g},C=function(){function a(a,f){f=f||b.createElement(d[a]||"div"),a="on"+a;var g=a in f;return g||(f.setAttribute||(f=b.createElement("div")),f.setAttribute&&f.removeAttribute&&(f.setAttribute(a,""),g=e(f[a],"function"),e(f[a],"undefined")||(f[a]=c),f.removeAttribute(a))),f=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),D={}.hasOwnProperty;l=e(D,"undefined")||e(D.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return D.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=A.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(A.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(A.call(arguments)))};return d}),y.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},y.canvastext=function(){return!(!n.canvas||!e(b.createElement("canvas").getContext("2d").fillText,"function"))},y.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:B(["@media (",t.join("touch-enabled),("),p,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},y.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},y.csstransforms=function(){return!!i("transform")},y.svg=function(){return!!b.createElementNS&&!!b.createElementNS(x.svg,"svg").createSVGRect},y.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==x.svg},y.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(s.call(b.createElementNS(x.svg,"clipPath")))};for(var E in y)l(y,E)&&(k=E.toLowerCase(),n[k]=y[E](),z.push((n[k]?"":"no-")+k));return n.addTest=function(a,b){if("object"==typeof a)for(var d in a)l(a,d)&&n.addTest(d,a[d]);else{if(a=a.toLowerCase(),n[a]!==c)return n;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(o.className+=" "+(b?"":"no-")+a),n[a]=b}return n},d(""),q=j=null,n._version=m,n._prefixes=t,n._domPrefixes=w,n._cssomPrefixes=v,n.hasEvent=C,n.testProp=function(a){return g([a])},n.testAllProps=i,n.testStyles=B,n}(window,window.document);!function(){var a=new Image;a.onerror=function(){z.addTest("datauri",function(){return!1})},a.onload=function(){z.addTest("datauri",function(){return 1==a.width&&1==a.height})},a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}(),a.Jcrop=b,a.Jcrop.supportsCanvas=z.canvas,a.Jcrop.supportsCanvasText=z.canvastext,a.Jcrop.supportsDragAndDrop=z.draganddrop,a.Jcrop.supportsDataURI=z.datauri,a.Jcrop.supportsSVG=z.svg,a.Jcrop.supportsInlineSVG=z.inlinesvg,a.Jcrop.supportsSVGClipPaths=z.svgclippaths,a.Jcrop.supportsCSSTransforms=z.csstransforms,a.Jcrop.supportsTouch=z.touch}(jQuery);

/**
 * PlaySOund
 * Alexander Manzyuk <admsev@gmail.com>
 * Copyright (c) 2012 Alexander Manzyuk - released under MIT License
 * https://github.com/admsev/jquery-play-sound
**/

(function($){$.extend({playSound:function(){return $('<audio class="sound-player" autoplay="autoplay" style="display:none;">'+'<source src="'+arguments[0]+'" />'+'<embed src="'+arguments[0]+'" hidden="true" autostart="true" loop="false"/>'+'</audio>').appendTo('body')},stopSound:function(){$(".sound-player").remove()}})})(jQuery);

/*! Lazy Load 1.9.1 - MIT license - Copyright 2010-2013 Mika Tuupola */
/* Risus2: Se usa data-lazy */
!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"lazy",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJQAAACUCAYAAAB1PADUAAANeElEQVR4nO2de1PTTBvGryRtSksppC0FS0sLRWSY8ft/CL+AzqjMqIgKDweBOtiSvH844Q0hhz1mN4ffjKM2u5tNcuW+d+89xHj37p2HigpB1B4fH1XXoaJAmKorUFEsiAVlGIbMekgjr/XOK8SC8rx/TS2dH5BhGFrXrwxQuzxfWHGwPFBRIvA870X90upbIZZYQYUfctJDDx6jeYC+RQnmqSyMOLK+l4ZhxAuK5k1ntQIkFkWFwEjOSVovUfVncecyvElaXi17ecGbp8JlkZyTtF4i66+r+w4+Ky0FFWW5igiNhfA8T7i1FnWPg+WYAFl7Kc3kxh1Ly0PTVqM9d5Z5aa8TIHugfj7Se592PTTXy+JmTYCsvZRmNeKOpeUR0StjySPCpQbz0twbWsuUdg7SepAcD6elfa7ULi/OeoX/zxoTYrF0POllW8Qo4SY91LiyaYUv0j3SWEBhcahw6MD/k1SZqGMsli7OnZDcVNkWkbZ8Ge0aUWWFQzxRCGmUk5rGJPcmyvWQ/M57PtWoiC8BZPdM2Fie6niRqEarLFjcZByiA8Ei7wn1WB7Jcdr2C0tPL2x+Sa2RCMvE8gBkuUkecZFaHpr6SIlD8Qb9RAYWZcDaq5RtHWkH8EnT09Rbi8CmDHHoNiaYZbBWVEeAJbSiTFCy31ie2FSRYY2BkWKKiNcE4040caQ4/09SVvB4GYQQhnUAm9VKkt5jMy2+Q6voqPJoL8w/FhVLipsqI8Li6RZKSHqxRLUzo15kmrLCeWqkFeKJ6bBefLAnl+TPVQmBJNDHUxbJ9BNS0aTdX/98JOGXJF1o0SiPImzteBq1slyiyqkpNGKm6U1HNUOCQsokUq47urkyEWRxTcGmBymlEJRuyIxuq46cV4JKQYa7FDF0whMUZi2bhEpQKch2LUVzx5WgBKJqFoCq/FFUghJI3qyNjPpWgsoxOgo4E0EVbWhExMIKkecXnZ6njEwEpeObxIOIhRUizy86PU8ZlcurEEolqAqhVIKSgOw2lc5t0kpQEsgiGCpLVDzlGkbC7isVeiNLtLzL2SpB5RgdXV8lKE5UPlQdwzGVoDjR8aGqpBKUAlREurOiEpQCVG2gkQWJixSCsEzIZ53E77oudZ4yYpry7AHrsyMWFE3hfmVYKrSxsYFut4tGo5G6AiNuRYx/TOSqFJ3wPA/z+Rzn5+e4v7+XPquUBmJB0cC04tQ0MZlM0O/3c9VmUMXa2hr6/T5OT0/x48cP1dV5Qps21NbWFjY3NysxUWBZFkajETY3N1VX5YnMBRUlGMuytLopecI0TQyHQ9RqUpwNNZkLKsod1ut12LaddVUKg23bWF1dTU2XhfXXwuWZpqn9rEdZiJpNWa/XU9ORtm2rdXkR0GwrqBJd6iEKPRxvCnd3d1gsFqqroRTTNNHpdDKxrDwiz4Wgzs7OcH19TWWyk+JQtL/TkFYGa4zMtm28ffsWlmVx1U82uXB5tEHStE0eVC7jZtmAQhUse25FCkqXBqsP625tFXywjHZECioPb08YlnFGkuNR6bLY0TevaO3yeHYmcV33WXfadV3iHfmCx+M25crypcvTXqIvGuVZNExJYdnuz7IsDAYDbG5uYmVl5en3+XyOX79+4eLiQslshvBgtsg2Ydx5ZBO1RWItnED1/kI852q1Wjg4OHgmpOCx6XSKfr+Pk5MT/Pnzh/pcPPeHxjrKLFuk4KLKMdMS5IVWq4XDw8NnYopyEe12+0U6Uljuj2VZaLfb1PlokL33OA1at6F80m6CZVmYTqcvxgPj8jUaDezt7UmP6RiGgclkgtlshkajIfVcupALQaW9gY7jEA2OBmm329jY2OCpViqDwQC9Xg+NRgOj0Yi7PNo9xFWQC0ElYRgGHMdhmvjPko+UTqeD0Wj0VH6324XjOFLOpVPvrxCCajabTHlbrZaUedm2bWM6nT5zqYZhYDweE80KiCNsiZI+BqCCQixFNwyDWRSWZQl/uw3DwN7eXmSjf2VlBaPRKFYAtHUJz6mnRfS1F2Ipuud5eHx8ZMq7WCyEv93j8Rjr6+uxx/v9fmzbTURIIot8SeRiLC8J13Vxd3fHlHc+nxMHOUnS9Xo9DAaDxDR+z4/Fqsrc7F4UhRjLu7y8pI5+u66Li4sLomtdW1vDmzdvEsMMzWYT0+mUSChpri9Mlm0lXnHm3uUBwO3tLS4vL6nyXFxc4Pb2NjXdysoKZrMZHMfB69evI0VVq9VwcHBAFdcaDAaJrjGISCHJnsmaC0GlXaTruvj69Stubm6Iyrq+vsa3b99Sy63VapjNZk8B006ng/39/RdWaG9vj7qn6a9DzNpdkQzN8JALQZFc5GKxwMePH/Hz508sl8vYNN+/f8enT59i0/iYponZbPYiYOo4Dmaz2VOddnZ2mONLzWYTOzs7iWlop8qISEs6/ywqXS6mAJPy+PiIL1++4Pz8HJ1OB61WC5ZlYblcYj6f4+bmBg8PD0RmfTKZxLokx3Gwv7+Pq6srvHr1iqvOW1tbuL6+ju1YyNxYI+17eSznKZSggP+v+5/P59R5/ZH44XCYuvC01+uh2+1yuwjLsjAej/HhwwctNgmJ6gDQzFDgcnk6dVdF4Lou+v1+qhvyEXX9a2tr2N7eFlIWL1GTB2msHpeg8hZeSMLzPHQ6HSUNZQDY3t5Gq9WSUnaW15OLRnkWNJtN6q6/SGq1GsbjsZSxRZYXn1WElaDwb2+Fg4MDroFbEXQ6HambhmQxEa/0gjIMA7PZjHnGgui6DIdDptmkJJDOSQ/+TUupBeXPDMhqiTcJ9Xodu7u7scu3WGDJV1moAKZppraF/PBAr9fLqFbkrK+vo9/vE6cnXRImoqw0tNhwTDSTyQTHx8exbSLP8zAYDDAcDrWxTEEMw8DOzs6LeehZ96ppraSSCXayb4rjOOj3+2g2mzg+Po5sj2xsbCgLD5Bi2zbG47HSZfi0kfRCTLALUqvVngml0Wjg6OjoWYO71Wphb29P6pbMonAcJ3c7+yXeVZ3f4DCGYWB3d/fFA7BtG0dHR2i327BtGwcHB7l5SOEB2KxWvYTPQ6ODxLE8GatQZS2VdhwntoFdr9dxeHiIxWIhrUueBVm1oVjH8QDOwWGWC5RxU+r1+rMlS1HUajVtdsoVDe2UFRG9vrhy9G9IpOAvT8qz5ckSmfsaAAUQlP8pj4p/qG735lpQftc6Dz22spDrJzEajYS6OtVvdxok9VM9pehJUFlv88d7rqReHSuqH0YaIjablf2MnwTFss0fT+V4Hp5t27EDqGWkMPtDqXqjR6NRafZbyhu5a0N1u91IVyfLZetkBXWqSxy5ivQZhgHbtrX64KBsghuBZLUUvfCf5vDxPK9UYgLkWaW4/RJ4RZsLQbmuy7xlT1EgWbNHY138783QlhF1PPhbLgS1v7+PyWSiuhpSSds8zDCM2FmorN+PYVk5nJYnF4Kq1+vKV6ToTJIIo4Qqsy2Wu15eFHno/aggqn0U5+oAMR9p0kJQy+WSq42ke4RbNp7n4e/fv6lpov4dl4aknCi0ENRiscDv37+f/VZZHXLm8znu7+9VVwOAJoLyPA9nZ2d4eHh49ltFOsvlEqenp6m9QJYXlCWPFoICgPv7e3z+/JlpG56y8vDwgJOTE9zc3DD1zki3RxQ2pzxrbm9v8f79e6yvr2N1dbWwU3Z5cV0X8/kcV1dX1B/3Dvb8SKf3ZjanXAbL5RL//fffs01Yk3omJMeLiKy9yXM59EJSadohgTK2uWgevqzVRuGylbShdH34Olu5qLrJ2LOAdyWTNo1yHdBV6IDedQtSCSpn6GxFgUpQwpH9wHW3VKUSFM+m8KTjXDotGOA9P8ss2FIIiuXjO+FQhIhxrrRzAPJFxvpNPlJKISidvieXdg7Z52QNWJLCLSjVZjuviLpvpG6JxRKyfGiIW1C6NxJpyPLlELlpBYs7FnH+Qu6+IhKWwVDStHla4kWztXQ4TSWoCHSJQKsok7b8cJpKUAF4e1xFaU/yCLUSVAJJ0ztYyMOGJCR7eiYdrwQVILy3JEk6kt+Dx7PsxPAO9LLM8KgEFQPv6pCyUmpBkU6BJf29CPC+LKUWFKswimqheL9EBRRo4/soeOuf1UbzLHWQgd/G45lSnSiovJt23vqrvn6Z03aTzglUnzcTSlTXWYW1pp0KwxO15xWSf37tVr3oQFTXWYfFAEnwRPdF1FnpIoUio9pNRsHam2WhElQAEZFsGQPLSelppqHQDi2x3I/K5QUQ4QpkDCwnpeexLjLWOlYWKgGSG6qzRQuThTsutaCSHpBv7kncTDBtWpnhPLyNadWE61A6l0eyWQTNsfCAMku+PFP6+VAyH2TWItFRlKUTFEAfBCR1aax1ifp/FgHV4Dlo3HUSpXN5ANv6PJ4IMo1rDbvjLCyqyDWHpbFQPG+6zK65alhjW3HkTlCsF0szdFImRMe2cicoHVZ6JFE2QYbJnaB0R6WL41k8IYpKUAVChz0cKkEpQOZyqiyHcqIoZdhANboEV7XcfaXo6NTIFt1G4glkxh0vhaB4HoSscANLnURbFNaxzKTjpRAU6zSUrOc2ySLLc5VCUKSIGMsqEixW938bixbc1D/7QwAAAABJRU5ErkJggg=="};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.on(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").on("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.on(j.event,function(){b.loaded||c.trigger("appear")})}),e.on("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.on("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);

/*! jssocials - v1.4.0 - 2016-10-10
* http://js-socials.com
* Copyright (c) 2016 Artem Tabalin; Licensed MIT */
!function(a,b,c){function d(a,c){var d=b(a);d.data(f,this),this._$element=d,this.shares=[],this._init(c),this._render()}var e="JSSocials",f=e,g=function(a,c){return b.isFunction(a)?a.apply(c,b.makeArray(arguments).slice(2)):a},h=/(\.(jpeg|png|gif|bmp|svg)$|^data:image\/(jpeg|png|gif|bmp|svg\+xml);base64)/i,i=/(&?[a-zA-Z0-9]+=)?\{([a-zA-Z0-9]+)\}/g,j={G:1e9,M:1e6,K:1e3},k={};d.prototype={url:"",text:"",shareIn:"blank",showLabel:function(a){return this.showCount===!1?a>this.smallScreenWidth:a>=this.largeScreenWidth},showCount:function(a){return a<=this.smallScreenWidth?"inside":!0},smallScreenWidth:640,largeScreenWidth:1024,resizeTimeout:200,elementClass:"jssocials",sharesClass:"jssocials-shares",shareClass:"jssocials-share",shareButtonClass:"jssocials-share-button",shareLinkClass:"jssocials-share-link",shareLogoClass:"jssocials-share-logo",shareLabelClass:"jssocials-share-label",shareLinkCountClass:"jssocials-share-link-count",shareCountBoxClass:"jssocials-share-count-box",shareCountClass:"jssocials-share-count",shareZeroCountClass:"jssocials-share-no-count",_init:function(a){this._initDefaults(),b.extend(this,a),this._initShares(),this._attachWindowResizeCallback()},_initDefaults:function(){this.url=a.location.href,this.text=b.trim(b("meta[name=description]").attr("content")||b("title").text())},_initShares:function(){this.shares=b.map(this.shares,b.proxy(function(a){"string"==typeof a&&(a={share:a});var c=a.share&&k[a.share];if(!c&&!a.renderer)throw Error("Share '"+a.share+"' is not found");return b.extend({url:this.url,text:this.text},c,a)},this))},_attachWindowResizeCallback:function(){b(a).on("resize",b.proxy(this._windowResizeHandler,this))},_detachWindowResizeCallback:function(){b(a).off("resize",this._windowResizeHandler)},_windowResizeHandler:function(){(b.isFunction(this.showLabel)||b.isFunction(this.showCount))&&(a.clearTimeout(this._resizeTimer),this._resizeTimer=setTimeout(b.proxy(this.refresh,this),this.resizeTimeout))},_render:function(){this._clear(),this._defineOptionsByScreen(),this._$element.addClass(this.elementClass),this._$shares=b("<div>").addClass(this.sharesClass).appendTo(this._$element),this._renderShares()},_defineOptionsByScreen:function(){this._screenWidth=b(a).width(),this._showLabel=g(this.showLabel,this,this._screenWidth),this._showCount=g(this.showCount,this,this._screenWidth)},_renderShares:function(){b.each(this.shares,b.proxy(function(a,b){this._renderShare(b)},this))},_renderShare:function(a){var c;c=b.isFunction(a.renderer)?b(a.renderer()):this._createShare(a),c.addClass(this.shareClass).addClass(a.share?"jssocials-share-"+a.share:"").addClass(a.css).appendTo(this._$shares)},_createShare:function(a){var c=b("<div>"),d=this._createShareLink(a).appendTo(c);if(this._showCount){var e="inside"===this._showCount,f=e?d:b("<div>").addClass(this.shareCountBoxClass).appendTo(c);f.addClass(e?this.shareLinkCountClass:this.shareCountBoxClass),this._renderShareCount(a,f)}return c},_createShareLink:function(a){var c=this._getShareStrategy(a),d=c.call(a,{shareUrl:this._getShareUrl(a)});return d.addClass(this.shareLinkClass).append(this._createShareLogo(a)),this._showLabel&&d.append(this._createShareLabel(a)),b.each(this.on||{},function(c,e){b.isFunction(e)&&d.on(c,b.proxy(e,a))}),d},_getShareStrategy:function(a){var b=m[a.shareIn||this.shareIn];if(!b)throw Error("Share strategy '"+this.shareIn+"' not found");return b},_getShareUrl:function(a){var b=g(a.shareUrl,a);return this._formatShareUrl(b,a)},_createShareLogo:function(a){var c=a.logo,d=h.test(c)?b("<img>").attr("src",a.logo):b("<i>").addClass(c);return d.addClass(this.shareLogoClass),d},_createShareLabel:function(a){return b("<span>").addClass(this.shareLabelClass).text(a.label)},_renderShareCount:function(a,c){var d=b("<span>").addClass(this.shareCountClass);c.addClass(this.shareZeroCountClass).append(d),this._loadCount(a).done(b.proxy(function(a){a&&(c.removeClass(this.shareZeroCountClass),d.text(a))},this))},_loadCount:function(a){var c=b.Deferred(),d=this._getCountUrl(a);if(!d)return c.resolve(0).promise();var e=b.proxy(function(b){c.resolve(this._getCountValue(b,a))},this);return b.getJSON(d).done(e).fail(function(){b.get(d).done(e).fail(function(){c.resolve(0)})}),c.promise()},_getCountUrl:function(a){var b=g(a.countUrl,a);return this._formatShareUrl(b,a)},_getCountValue:function(a,c){var d=(b.isFunction(c.getCount)?c.getCount(a):a)||0;return"string"==typeof d?d:this._formatNumber(d)},_formatNumber:function(a){return b.each(j,function(b,c){return a>=c?(a=parseFloat((a/c).toFixed(2))+b,!1):void 0}),a},_formatShareUrl:function(b,c){return b.replace(i,function(b,d,e){var f=c[e]||"";return f?(d||"")+a.encodeURIComponent(f):""})},_clear:function(){a.clearTimeout(this._resizeTimer),this._$element.empty()},_passOptionToShares:function(a,c){var d=this.shares;b.each(["url","text"],function(e,f){f===a&&b.each(d,function(b,d){d[a]=c})})},_normalizeShare:function(a){return b.isNumeric(a)?this.shares[a]:"string"==typeof a?b.grep(this.shares,function(b){return b.share===a})[0]:a},refresh:function(){this._render()},destroy:function(){this._clear(),this._detachWindowResizeCallback(),this._$element.removeClass(this.elementClass).removeData(f)},option:function(a,b){return 1===arguments.length?this[a]:(this[a]=b,this._passOptionToShares(a,b),void this.refresh())},shareOption:function(a,b,c){return a=this._normalizeShare(a),2===arguments.length?a[b]:(a[b]=c,void this.refresh())}},b.fn.jsSocials=function(a){var e=b.makeArray(arguments),g=e.slice(1),h=this;return this.each(function(){var e,i=b(this),j=i.data(f);if(j)if("string"==typeof a){if(e=j[a].apply(j,g),e!==c&&e!==j)return h=e,!1}else j._detachWindowResizeCallback(),j._init(a),j._render();else new d(i,a)}),h};var l=function(a){var c;b.isPlainObject(a)?c=d.prototype:(c=k[a],a=arguments[1]||{}),b.extend(c,a)},m={popup:function(c){return b("<a>").attr("href","#").on("click",function(){return a.open(c.shareUrl,null,"width=600, height=400, location=0, menubar=0, resizeable=0, scrollbars=0, status=0, titlebar=0, toolbar=0"),!1})},blank:function(a){return b("<a>").attr({target:"_blank",href:a.shareUrl})},self:function(a){return b("<a>").attr({target:"_self",href:a.shareUrl})}};a.jsSocials={Socials:d,shares:k,shareStrategies:m,setDefaults:l}}(window,jQuery),function(a,b,c){b.extend(c.shares,{email:{label:"E-mail",logo:"fa fa-at",shareUrl:"mailto:{to}?subject={text}&body={url}",countUrl:"",shareIn:"self"},twitter:{label:"Tweet",logo:"fab fa-twitter",shareUrl:"https://twitter.com/share?url={url}&text={text}&via={via}&hashtags={hashtags}",countUrl:""},facebook:{label:"Like",logo:"fab fa-facebook",shareUrl:"https://facebook.com/sharer/sharer.php?u={url}",countUrl:"https://graph.facebook.com/?id={url}",getCount:function(a){return a.share&&a.share.share_count||0}},vkontakte:{label:"Like",logo:"fab fa-vk",shareUrl:"https://vk.com/share.php?url={url}&title={title}&description={text}",countUrl:"https://vk.com/share.php?act=count&index=1&url={url}",getCount:function(a){return parseInt(a.slice(15,-2).split(", ")[1])}},googleplus:{label:"+1",logo:"fab fa-google",shareUrl:"https://plus.google.com/share?url={url}",countUrl:""},linkedin:{label:"Share",logo:"fab fa-linkedin",shareUrl:"https://www.linkedin.com/shareArticle?mini=true&url={url}",countUrl:"https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",getCount:function(a){return a.count}},pinterest:{label:"Pin it",logo:"fab fa-pinterest",shareUrl:"https://pinterest.com/pin/create/bookmarklet/?media={media}&url={url}&description={text}",countUrl:"https://api.pinterest.com/v1/urls/count.json?&url={url}&callback=?",getCount:function(a){return a.count}},stumbleupon:{label:"Share",logo:"fab fa-stumbleupon",shareUrl:"http://www.stumbleupon.com/submit?url={url}&title={title}",countUrl:"https://cors-anywhere.herokuapp.com/https://www.stumbleupon.com/services/1.01/badge.getinfo?url={url}",getCount:function(a){return a.result.views}},telegram:{label:"Telegram",logo:"fab fa-paper-plane",shareUrl:"tg://msg?text={url} {text}",countUrl:"",shareIn:"self"},whatsapp:{label:"WhatsApp",logo:"fab fa-whatsapp",shareUrl:"whatsapp://send?text={url} {text}",countUrl:"",shareIn:"self"},line:{label:"LINE",logo:"fab fa-comment",shareUrl:"http://line.me/R/msg/text/?{text} {url}",countUrl:""},viber:{label:"Viber",logo:"fab fa-volume-control-phone",shareUrl:"viber://forward?text={url} {text}",countUrl:"",shareIn:"self"},pocket:{label:"Pocket",logo:"fab fa-get-pocket",shareUrl:"https://getpocket.com/save?url={url}&title={title}",countUrl:""},messenger:{label:"Share",logo:"fab fa-commenting",shareUrl:"fb-messenger://share?link={url}",countUrl:"",shareIn:"self"}})}(window,jQuery,window.jsSocials);

/*!
 * parallax.js v1.5.0 (http://pixelcog.github.io/parallax.js/)
 * @copyright 2016 PixelCog, Inc.
 * @license MIT (https://github.com/pixelcog/parallax.js/blob/master/LICENSE)
 */
!function(t,i,e,s){function o(i,e){var h=this;"object"==typeof e&&(delete e.refresh,delete e.render,t.extend(this,e)),this.$element=t(i),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var r=(this.position+"").toLowerCase().match(/\S+/g)||[];if(r.length<1&&r.push("center"),1==r.length&&r.push(r[0]),"top"!=r[0]&&"bottom"!=r[0]&&"left"!=r[1]&&"right"!=r[1]||(r=[r[1],r[0]]),this.positionX!==s&&(r[0]=this.positionX.toLowerCase()),this.positionY!==s&&(r[1]=this.positionY.toLowerCase()),h.positionX=r[0],h.positionY=r[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:'url("'+this.imageSrc+'")',backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:'url("'+this.imageSrc+'")',backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo(this.mirrorContainer);var a=this.$element.find(">.parallax-slider"),n=!1;0==a.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=a.prependTo(this.$mirror),n=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){h.naturalHeight&&h.naturalWidth||(h.naturalHeight=this.naturalHeight||this.height||1,h.naturalWidth=this.naturalWidth||this.width||1),h.aspectRatio=h.naturalWidth/h.naturalHeight,o.isSetup||o.setup(),o.sliders.push(h),o.isFresh=!1,o.requestRender()}),n||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||a.length>0)&&this.$slider.trigger("load")}!function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!i.requestAnimationFrame;++s)i.requestAnimationFrame=i[e[s]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[s]+"CancelAnimationFrame"]||i[e[s]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e){var s=(new Date).getTime(),o=Math.max(0,16-(s-t)),h=i.setTimeout(function(){e(s+o)},o);return t=s+o,h}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(o.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t,i=o.winHeight,e=o.docHeight,s=Math.min(this.boxOffsetTop,e-i),h=Math.max(this.boxOffsetTop+this.boxHeight-i,0),r=this.boxHeight+(s-h)*(1-this.speed)|0,a=(this.boxOffsetTop-s)*(1-this.speed)|0;r*this.aspectRatio>=this.boxWidth?(this.imageWidth=r*this.aspectRatio|0,this.imageHeight=r,this.offsetBaseTop=a,t=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-t:isNaN(this.positionX)?this.offsetLeft=-t/2|0:this.offsetLeft=Math.max(this.positionX,-t)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,t=this.imageHeight-r,"top"==this.positionY?this.offsetBaseTop=a:"bottom"==this.positionY?this.offsetBaseTop=a-t:isNaN(this.positionY)?this.offsetBaseTop=a-t/2|0:this.offsetBaseTop=a+Math.max(this.positionY,-t))},render:function(){var t=o.scrollTop,i=o.scrollLeft,e=this.overScrollFix?o.overScroll:0,s=t+o.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=s?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-i,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-e)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(o,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){function s(){if(p==i.pageYOffset)return i.requestAnimationFrame(s),!1;p=i.pageYOffset,h.render(),i.requestAnimationFrame(s)}if(!this.isReady){var h=this,r=t(e),a=t(i),n=function(){o.winHeight=a.height(),o.winWidth=a.width(),o.docHeight=r.height(),o.docWidth=r.width()},l=function(){var t=a.scrollTop(),i=o.docHeight-o.winHeight,e=o.docWidth-o.winWidth;o.scrollTop=Math.max(0,Math.min(i,t)),o.scrollLeft=Math.max(0,Math.min(e,a.scrollLeft())),o.overScroll=Math.max(t-i,Math.min(t,0))};a.on("resize.px.parallax load.px.parallax",function(){n(),h.refresh(),o.isFresh=!1,o.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){l(),o.requestRender()}),n(),l(),this.isReady=!0;var p=-1;s()}},configure:function(i){"object"==typeof i&&(delete i.refresh,delete i.render,t.extend(this.prototype,i))},refresh:function(){t.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,function(){this.render()})},requestRender:function(){var t=this;t.render(),t.isBusy=!1},destroy:function(e){var s,h=t(e).data("px.parallax");for(h.$mirror.remove(),s=0;s<this.sliders.length;s+=1)this.sliders[s]==h&&this.sliders.splice(s,1);t(e).data("px.parallax",!1),0===this.sliders.length&&(t(i).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,o.isSetup=!1)}});var h=t.fn.parallax;t.fn.parallax=function(s){return this.each(function(){var h=t(this),r="object"==typeof s&&s;this==i||this==e||h.is("body")?o.configure(r):h.data("px.parallax")?"object"==typeof s&&t.extend(h.data("px.parallax"),r):(r=t.extend({},h.data(),r),h.data("px.parallax",new o(this,r))),"string"==typeof s&&("destroy"==s?o.destroy(this):o[s]())})},t.fn.parallax.Constructor=o,t.fn.parallax.noConflict=function(){return t.fn.parallax=h,this},t(function(){t('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);
!function(t,i,e,s){function o(i,e){var h=this;"object"==typeof e&&(delete e.refresh,delete e.render,t.extend(this,e)),this.$element=t(i),!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var r=(this.position+"").toLowerCase().match(/\S+/g)||[];if(r.length<1&&r.push("center"),1==r.length&&r.push(r[0]),"top"!=r[0]&&"bottom"!=r[0]&&"left"!=r[1]&&"right"!=r[1]||(r=[r[1],r[0]]),this.positionX!==s&&(r[0]=this.positionX.toLowerCase()),this.positionY!==s&&(r[1]=this.positionY.toLowerCase()),h.positionX=r[0],h.positionY=r[1],"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX)),"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY)),this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px"),navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.imageSrc&&this.iosFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:'url("'+this.imageSrc+'")',backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.imageSrc&&this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:'url("'+this.imageSrc+'")',backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=t("<div />").prependTo(this.mirrorContainer);var a=this.$element.find(">.parallax-slider"),n=!1;0==a.length?this.$slider=t("<img />").prependTo(this.$mirror):(this.$slider=a.prependTo(this.$mirror),n=!0),this.$mirror.addClass("parallax-mirror").css({visibility:"hidden",zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"}),this.$slider.addClass("parallax-slider").one("load",function(){h.naturalHeight&&h.naturalWidth||(h.naturalHeight=this.naturalHeight||this.height||1,h.naturalWidth=this.naturalWidth||this.width||1),h.aspectRatio=h.naturalWidth/h.naturalHeight,o.isSetup||o.setup(),o.sliders.push(h),o.isFresh=!1,o.requestRender()}),n||(this.$slider[0].src=this.imageSrc),(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete||a.length>0)&&this.$slider.trigger("load")}!function(){for(var t=0,e=["ms","moz","webkit","o"],s=0;s<e.length&&!i.requestAnimationFrame;++s)i.requestAnimationFrame=i[e[s]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[s]+"CancelAnimationFrame"]||i[e[s]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e){var s=(new Date).getTime(),o=Math.max(0,16-(s-t)),h=i.setTimeout(function(){e(s+o)},o);return t=s+o,h}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}(),t.extend(o.prototype,{speed:.2,bleed:0,zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,mirrorContainer:"body",refresh:function(){this.boxWidth=this.$element.outerWidth(),this.boxHeight=this.$element.outerHeight()+2*this.bleed,this.boxOffsetTop=this.$element.offset().top-this.bleed,this.boxOffsetLeft=this.$element.offset().left,this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var t,i=o.winHeight,e=o.docHeight,s=Math.min(this.boxOffsetTop,e-i),h=Math.max(this.boxOffsetTop+this.boxHeight-i,0),r=this.boxHeight+(s-h)*(1-this.speed)|0,a=(this.boxOffsetTop-s)*(1-this.speed)|0;r*this.aspectRatio>=this.boxWidth?(this.imageWidth=r*this.aspectRatio|0,this.imageHeight=r,this.offsetBaseTop=a,t=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-t:isNaN(this.positionX)?this.offsetLeft=-t/2|0:this.offsetLeft=Math.max(this.positionX,-t)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,t=this.imageHeight-r,"top"==this.positionY?this.offsetBaseTop=a:"bottom"==this.positionY?this.offsetBaseTop=a-t:isNaN(this.positionY)?this.offsetBaseTop=a-t/2|0:this.offsetBaseTop=a+Math.max(this.positionY,-t))},render:function(){var t=o.scrollTop,i=o.scrollLeft,e=this.overScrollFix?o.overScroll:0,s=t+o.winHeight;this.boxOffsetBottom>t&&this.boxOffsetTop<=s?(this.visibility="visible",this.mirrorTop=this.boxOffsetTop-t,this.mirrorLeft=this.boxOffsetLeft-i,this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed)):this.visibility="hidden",this.$mirror.css({transform:"translate3d("+this.mirrorLeft+"px, "+(this.mirrorTop-e)+"px, 0px)",visibility:this.visibility,height:this.boxHeight,width:this.boxWidth}),this.$slider.css({transform:"translate3d("+this.offsetLeft+"px, "+this.offsetTop+"px, 0px)",position:"absolute",height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}}),t.extend(o,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1<<30,docWidth:1<<30,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){function s(){if(p==i.pageYOffset)return i.requestAnimationFrame(s),!1;p=i.pageYOffset,h.render(),i.requestAnimationFrame(s)}if(!this.isReady){var h=this,r=t(e),a=t(i),n=function(){o.winHeight=a.height(),o.winWidth=a.width(),o.docHeight=r.height(),o.docWidth=r.width()},l=function(){var t=a.scrollTop(),i=o.docHeight-o.winHeight,e=o.docWidth-o.winWidth;o.scrollTop=Math.max(0,Math.min(i,t)),o.scrollLeft=Math.max(0,Math.min(e,a.scrollLeft())),o.overScroll=Math.max(t-i,Math.min(t,0))};a.on("resize.px.parallax load.px.parallax",function(){n(),h.refresh(),o.isFresh=!1,o.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){l(),o.requestRender()}),n(),l(),this.isReady=!0;var p=-1;s()}},configure:function(i){"object"==typeof i&&(delete i.refresh,delete i.render,t.extend(this.prototype,i))},refresh:function(){t.each(this.sliders,function(){this.refresh()}),this.isFresh=!0},render:function(){this.isFresh||this.refresh(),t.each(this.sliders,function(){this.render()})},requestRender:function(){var t=this;t.render(),t.isBusy=!1},destroy:function(e){var s,h=t(e).data("px.parallax");for(h.$mirror.remove(),s=0;s<this.sliders.length;s+=1)this.sliders[s]==h&&this.sliders.splice(s,1);t(e).data("px.parallax",!1),0===this.sliders.length&&(t(i).off("scroll.px.parallax resize.px.parallax load.px.parallax"),this.isReady=!1,o.isSetup=!1)}});var h=t.fn.parallax;t.fn.parallax=function(s){return this.each(function(){var h=t(this),r="object"==typeof s&&s;this==i||this==e||h.is("body")?o.configure(r):h.data("px.parallax")?"object"==typeof s&&t.extend(h.data("px.parallax"),r):(r=t.extend({},h.data(),r),h.data("px.parallax",new o(this,r))),"string"==typeof s&&("destroy"==s?o.destroy(this):o[s]())})},t.fn.parallax.Constructor=o,t.fn.parallax.noConflict=function(){return t.fn.parallax=h,this},t(function(){t('[data-parallax="scroll"]').parallax()})}(jQuery,window,document);

/* Jquery Snackbar by FezVrasta */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){function b(a){return void 0!==a&&null!==a}a(document).ready(function(){a("body").append("<div id=snackbar-container/>")});var c={events:{},on:function(a,b){this.events[a]=this.events[a]||[],this.events[a].push(b)},off:function(a){this.events[a]&&delete this.events[a]},emit:function(a,b){this.events[a]&&this.events[a].forEach(function(a){a(b)})}};a(document).on("click","[data-toggle=snackbar]",function(){a(this).snackbar("toggle")}).on("click","#snackbar-container .snackbar",function(){a(this).snackbar("hide")}),a.snackbar=function(d){if(b(d)&&d===Object(d)){var e,f=!1;d=Object.assign({},a.snackbar.defaults,d),b(d.id)?a("#"+d.id).length?e=a("#"+d.id):(e=a("<div/>").attr("id",""+d.id).attr("class","snackbar"),f=!0):(d.id="snackbar"+Date.now(),e=a("<div/>").attr("id",d.id).attr("class","snackbar"),f=!0);var g=e.hasClass("snackbar-opened");b(d.style)?(g?e.attr("class","snackbar snackbar-opened "+d.style):e.attr("class","snackbar "+d.style),e.attr("data-style",d.style)):g?e.attr("class","snackbar snackbar-opened"):e.attr("class","snackbar"),d.htmlAllowed=!!b(d.htmlAllowed)&&d.htmlAllowed,d.timeout=b(d.timeout)?d.timeout:3e3,e.attr("data-timeout",d.timeout),d.content=d.htmlAllowed?d.content:a("<p>"+d.content+"</p>").text(),b(d.onClose)&&c.on(d.id,d.onClose),b(d.htmlAllowed)&&e.attr("data-html-allowed",d.htmlAllowed),b(d.content)&&(e.find(".snackbar-content").length?e.find(".snackbar-content").html(d.content):e.prepend("<span class=snackbar-content>"+d.content+"</span>"),e.attr("data-content",d.content)),f?e.appendTo("#snackbar-container"):e.insertAfter("#snackbar-container .snackbar:last-child"),b(d.action)&&"toggle"==d.action&&(d.action=g?"hide":"show");var h=Date.now();e.data("animationId1",h),setTimeout(function(){e.data("animationId1")===h&&(b(d.action)&&"show"!=d.action?b(d.action)&&"hide"==d.action&&(e.removeClass("snackbar-opened"),c.emit(d.id),c.off(d.id)):e.addClass("snackbar-opened"))},50);var i=Date.now();return e.data("animationId2",i),0!==d.timeout&&setTimeout(function(){e.data("animationId2")===i&&(e.removeClass("snackbar-opened"),c.emit(d.id),c.off(d.id))},d.timeout),e}return!1},a.snackbar.defaults={},a.fn.snackbar=function(c){if(void 0!==c){var d={};if(this.hasClass("snackbar"))return d={id:this.attr("id"),content:a(this).attr("data-content"),style:a(this).attr("data-style"),timeout:parseInt(a(this).attr("data-timeout")),htmlAllowed:a(this).attr("data-html-allowed")},"show"!==c&&"hide"!==c&&"toggle"!=c||(d.action=c),a.snackbar(d);b(c)&&"show"!==c&&"hide"!==c&&"toggle"!=c||(d={content:a(this).attr("data-content"),style:a(this).attr("data-style"),timeout:a(this).attr("data-timeout"),htmlAllowed:a(this).attr("data-html-allowed")}),b(c)&&(d.id=this.attr("data-snackbar-id"),"show"!==c&&"hide"!==c&&"toggle"!=c||(d.action=c));var e=a.snackbar(d);return this.attr("data-snackbar-id",e.attr("id")),e}}});
//# sourceMappingURL=snackbar.min.js.map


/**
 * Copyright (c) 2007-2015 Ariel Flesler - aflesler<a>gmail<d>com | http://flesler.blogspot.com
 * Licensed under MIT
 * author Ariel Flesler
 * version 2.1.2
 */
;(function(f){"use strict";"function"===typeof define&&define.amd?define(["jquery"],f):"undefined"!==typeof module&&module.exports?module.exports=f(require("jquery")):f(jQuery)})(function($){"use strict";function n(a){return!a.nodeName||-1!==$.inArray(a.nodeName.toLowerCase(),["iframe","#document","html","body"])}function h(a){return $.isFunction(a)||$.isPlainObject(a)?a:{top:a,left:a}}var p=$.scrollTo=function(a,d,b){return $(window).scrollTo(a,d,b)};p.defaults={axis:"xy",duration:0,limit:!0};$.fn.scrollTo=function(a,d,b){"object"=== typeof d&&(b=d,d=0);"function"===typeof b&&(b={onAfter:b});"max"===a&&(a=9E9);b=$.extend({},p.defaults,b);d=d||b.duration;var u=b.queue&&1<b.axis.length;u&&(d/=2);b.offset=h(b.offset);b.over=h(b.over);return this.each(function(){function k(a){var k=$.extend({},b,{queue:!0,duration:d,complete:a&&function(){a.call(q,e,b)}});r.animate(f,k)}if(null!==a){var l=n(this),q=l?this.contentWindow||window:this,r=$(q),e=a,f={},t;switch(typeof e){case "number":case "string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)){e= h(e);break}e=l?$(e):$(e,q);case "object":if(e.length===0)return;if(e.is||e.style)t=(e=$(e)).offset()}var v=$.isFunction(b.offset)&&b.offset(q,e)||b.offset;$.each(b.axis.split(""),function(a,c){var d="x"===c?"Left":"Top",m=d.toLowerCase(),g="scroll"+d,h=r[g](),n=p.max(q,c);t?(f[g]=t[m]+(l?0:h-r.offset()[m]),b.margin&&(f[g]-=parseInt(e.css("margin"+d),10)||0,f[g]-=parseInt(e.css("border"+d+"Width"),10)||0),f[g]+=v[m]||0,b.over[m]&&(f[g]+=e["x"===c?"width":"height"]()*b.over[m])):(d=e[m],f[g]=d.slice&& "%"===d.slice(-1)?parseFloat(d)/100*n:d);b.limit&&/^\d+$/.test(f[g])&&(f[g]=0>=f[g]?0:Math.min(f[g],n));!a&&1<b.axis.length&&(h===f[g]?f={}:u&&(k(b.onAfterFirst),f={}))});k(b.onAfter)}})};p.max=function(a,d){var b="x"===d?"Width":"Height",h="scroll"+b;if(!n(a))return a[h]-$(a)[b.toLowerCase()]();var b="client"+b,k=a.ownerDocument||a.document,l=k.documentElement,k=k.body;return Math.max(l[h],k[h])-Math.min(l[b],k[b])};$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(a){return $(a.elem)[a.prop]()}, set:function(a){var d=this.get(a);if(a.options.interrupt&&a._last&&a._last!==d)return $(a.elem).stop();var b=Math.round(a.now);d!==b&&($(a.elem)[a.prop](b),a._last=this.get(a))}};return p});


/*
 * jQuery Easing v1.4.1 - http://gsgd.co.uk/sandbox/jquery/easing/
 * Open source under the BSD License.
 * Copyright © 2008 George McGinley Smith
 * All rights reserved.
 * https://raw.github.com/gdsmith/jquery-easing/master/LICENSE
*/
/* Compatibility */
!function(n){n.extend(n.easing,{easeIn:function(e,u,t,a,i){return n.easing.easeInQuad(e,u,t,a,i)},easeOut:function(e,u,t,a,i){return n.easing.easeOutQuad(e,u,t,a,i)},easeInOut:function(e,u,t,a,i){return n.easing.easeInOutQuad(e,u,t,a,i)},expoin:function(e,u,t,a,i){return n.easing.easeInExpo(e,u,t,a,i)},expoout:function(e,u,t,a,i){return n.easing.easeOutExpo(e,u,t,a,i)},expoinout:function(e,u,t,a,i){return n.easing.easeInOutExpo(e,u,t,a,i)},bouncein:function(e,u,t,a,i){return n.easing.easeInBounce(e,u,t,a,i)},bounceout:function(e,u,t,a,i){return n.easing.easeOutBounce(e,u,t,a,i)},bounceinout:function(e,u,t,a,i){return n.easing.easeInOutBounce(e,u,t,a,i)},elasin:function(e,u,t,a,i){return n.easing.easeInElastic(e,u,t,a,i)},elasout:function(e,u,t,a,i){return n.easing.easeOutElastic(e,u,t,a,i)},elasinout:function(e,u,t,a,i){return n.easing.easeInOutElastic(e,u,t,a,i)},backin:function(e,u,t,a,i){return n.easing.easeInBack(e,u,t,a,i)},backout:function(e,u,t,a,i){return n.easing.easeOutBack(e,u,t,a,i)},backinout:function(e,u,t,a,i){return n.easing.easeInOutBack(e,u,t,a,i)}})}(jQuery);
//# sourceMappingURL=jquery.easing.compatibility.min.js.map
/* Plugin */
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],function($){return factory($)})}else if(typeof module==="object"&&typeof module.exports==="object"){exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){$.easing.jswing=$.easing.swing;var pow=Math.pow,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,PI=Math.PI,c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*PI/3,c5=2*PI/4.5;function bounceOut(x){var n1=7.5625,d1=2.75;if(x<1/d1){return n1*x*x}else if(x<2/d1){return n1*(x-=1.5/d1)*x+.75}else if(x<2.5/d1){return n1*(x-=2.25/d1)*x+.9375}else{return n1*(x-=2.625/d1)*x+.984375}}$.extend($.easing,{def:"easeOutQuad",swing:function(x){return $.easing[$.easing.def](x)},easeInQuad:function(x){return x*x},easeOutQuad:function(x){return 1-(1-x)*(1-x)},easeInOutQuad:function(x){return x<.5?2*x*x:1-pow(-2*x+2,2)/2},easeInCubic:function(x){return x*x*x},easeOutCubic:function(x){return 1-pow(1-x,3)},easeInOutCubic:function(x){return x<.5?4*x*x*x:1-pow(-2*x+2,3)/2},easeInQuart:function(x){return x*x*x*x},easeOutQuart:function(x){return 1-pow(1-x,4)},easeInOutQuart:function(x){return x<.5?8*x*x*x*x:1-pow(-2*x+2,4)/2},easeInQuint:function(x){return x*x*x*x*x},easeOutQuint:function(x){return 1-pow(1-x,5)},easeInOutQuint:function(x){return x<.5?16*x*x*x*x*x:1-pow(-2*x+2,5)/2},easeInSine:function(x){return 1-cos(x*PI/2)},easeOutSine:function(x){return sin(x*PI/2)},easeInOutSine:function(x){return-(cos(PI*x)-1)/2},easeInExpo:function(x){return x===0?0:pow(2,10*x-10)},easeOutExpo:function(x){return x===1?1:1-pow(2,-10*x)},easeInOutExpo:function(x){return x===0?0:x===1?1:x<.5?pow(2,20*x-10)/2:(2-pow(2,-20*x+10))/2},easeInCirc:function(x){return 1-sqrt(1-pow(x,2))},easeOutCirc:function(x){return sqrt(1-pow(x-1,2))},easeInOutCirc:function(x){return x<.5?(1-sqrt(1-pow(2*x,2)))/2:(sqrt(1-pow(-2*x+2,2))+1)/2},easeInElastic:function(x){return x===0?0:x===1?1:-pow(2,10*x-10)*sin((x*10-10.75)*c4)},easeOutElastic:function(x){return x===0?0:x===1?1:pow(2,-10*x)*sin((x*10-.75)*c4)+1},easeInOutElastic:function(x){return x===0?0:x===1?1:x<.5?-(pow(2,20*x-10)*sin((20*x-11.125)*c5))/2:pow(2,-20*x+10)*sin((20*x-11.125)*c5)/2+1},easeInBack:function(x){return c3*x*x*x-c1*x*x},easeOutBack:function(x){return 1+c3*pow(x-1,3)+c1*pow(x-1,2)},easeInOutBack:function(x){return x<.5?pow(2*x,2)*((c2+1)*2*x-c2)/2:(pow(2*x-2,2)*((c2+1)*(x*2-2)+c2)+2)/2},easeInBounce:function(x){return 1-bounceOut(1-x)},easeOutBounce:bounceOut,easeInOutBounce:function(x){return x<.5?(1-bounceOut(1-2*x))/2:(1+bounceOut(2*x-1))/2}})});

/* VCARD */
var vcard_cache=new Array();(function($){$.fn.vcardtip=function(opts){opts=$.extend({className:'vcardtip',content:'title',offset:[0,0],align:'center',inDelay:100,outDelay:100},opts||{});var mouseOutCallback=function(obj){var vcardtip=$.data(obj,'vcardtip');if(vcardtip&&!$.data(vcardtip[0],'hover')){vcardtip.hide()}}
var setNewTop=function(top,obj){var hs=$(obj).find('.vcardbub-content').css('height')
var new_top=hs.replace('px','')
new_top=parseInt(new_top)+25;$(obj).css({top:top-new_top,})}
this.on('mouseenter',function(){var obj=this;setTimeout(function(){var pos=$.extend({},$(obj).offset(),{width:obj.offsetWidth,height:obj.offsetHeight});var move_more=!0;if(!$.data(obj,'vcardtip')){var title;if(typeof opts.content=='string'&&$(obj).attr(opts.content)!='undefined'&&$(obj).attr(opts.content)!=''){title=$(obj).attr(opts.content)}else if(typeof opts.content=='function'){title=opts.content(obj)}
var vcard='<div class="vcardbub-content">'
vcard+='<div class="loading-msg" style="background-color:white;border-radius:2px;padding:10px;"><b><i class="fa fa-sync fa-spin fa-3x fa-fw"></i> <span class="sr-only">Cargando...</span></b></div>'
vcard+='</div>'
if(typeof vcard_cache['mf'+title]=='undefined'||vcard_cache['mf'+title]==''){var vcardtip=$('<div class="'+opts.className+'">'+vcard+'</div>').appendTo(document.body);$.ajax({type:'POST',url:global_data.url+'/live-vcard.php',data:'uid='+title,success:function(h){vcardtip.find('.vcardbub-content').html(h);vcard_cache['mf'+title]=h},complete:function(){setNewTop(pos.top,vcardtip);move_more=!1}})}else{var vcardtip=$('<div class="'+opts.className+'">'+vcard+'</div>').appendTo(document.body);vcardtip.find('.vcardbub-content').html(vcard_cache['mf'+title]);setNewTop(pos.top,vcardtip);move_more=!1}
$.data(obj,'vcardtip',vcardtip);vcardtip.hover(function(){$.data(this,'hover',!0)},function(){$.removeData(this,'hover');setTimeout(function(){mouseOutCallback(obj)},opts.outDelay)})}else{var vcardtip=$.data(obj,'vcardtip').show();setNewTop(pos.top,vcardtip);move_more=!1}
vcardtip.css({display:'block',position:'absolute',zIndex:99,left:0});var left;if(opts.align=='left'){left=pos.left}else if(opts.align=='center'){left=pos.left+pos.width/2-vcardtip[0].offsetWidth/2}else if(opts.align=='right'){left=pos.left+pos.width-vcardtip[0].offsetWidth}
left+=opts.offset[1];vcardtip.css({left:left});if(move_more==!0){vcardtip.css({top:pos.top+opts.offset[0]})}},opts.inDelay)}).on('mouseleave',function(){var obj=this;setTimeout(function(){mouseOutCallback(obj)},opts.outDelay)})}})(jQuery); 

/* htmlspecialchars_decode (php.js) 909.322 */
function get_html_translation_table(d,e){var a={},f={},b=0,c="";c={};var h={},g={},i={};c[0]="HTML_SPECIALCHARS";c[1]="HTML_ENTITIES";h[0]="ENT_NOQUOTES";h[2]="ENT_COMPAT";h[3]="ENT_QUOTES";g=!isNaN(d)?c[d]:d?d.toUpperCase():"HTML_SPECIALCHARS";i=!isNaN(e)?h[e]:e?e.toUpperCase():"ENT_COMPAT";if(g!=="HTML_SPECIALCHARS"&&g!=="HTML_ENTITIES")throw new Error("Table: "+g+" not supported");a["38"]="&amp;";if(g==="HTML_ENTITIES"){a["160"]="&nbsp;";a["161"]="&iexcl;";a["162"]="&cent;";a["163"]="&pound;"; a["164"]="&curren;";a["165"]="&yen;";a["166"]="&brvbar;";a["167"]="&sect;";a["168"]="&uml;";a["169"]="&copy;";a["170"]="&ordf;";a["171"]="&laquo;";a["172"]="&not;";a["173"]="&shy;";a["174"]="&reg;";a["175"]="&macr;";a["176"]="&deg;";a["177"]="&plusmn;";a["178"]="&sup2;";a["179"]="&sup3;";a["180"]="&acute;";a["181"]="&micro;";a["182"]="&para;";a["183"]="&middot;";a["184"]="&cedil;";a["185"]="&sup1;";a["186"]="&ordm;";a["187"]="&raquo;";a["188"]="&frac14;";a["189"]="&frac12;";a["190"]="&frac34;";a["191"]= "&iquest;";a["192"]="&Agrave;";a["193"]="&Aacute;";a["194"]="&Acirc;";a["195"]="&Atilde;";a["196"]="&Auml;";a["197"]="&Aring;";a["198"]="&AElig;";a["199"]="&Ccedil;";a["200"]="&Egrave;";a["201"]="&Eacute;";a["202"]="&Ecirc;";a["203"]="&Euml;";a["204"]="&Igrave;";a["205"]="&Iacute;";a["206"]="&Icirc;";a["207"]="&Iuml;";a["208"]="&ETH;";a["209"]="&Ntilde;";a["210"]="&Ograve;";a["211"]="&Oacute;";a["212"]="&Ocirc;";a["213"]="&Otilde;";a["214"]="&Ouml;";a["215"]="&times;";a["216"]="&Oslash;";a["217"]= "&Ugrave;";a["218"]="&Uacute;";a["219"]="&Ucirc;";a["220"]="&Uuml;";a["221"]="&Yacute;";a["222"]="&THORN;";a["223"]="&szlig;";a["224"]="&agrave;";a["225"]="&aacute;";a["226"]="&acirc;";a["227"]="&atilde;";a["228"]="&auml;";a["229"]="&aring;";a["230"]="&aelig;";a["231"]="&ccedil;";a["232"]="&egrave;";a["233"]="&eacute;";a["234"]="&ecirc;";a["235"]="&euml;";a["236"]="&igrave;";a["237"]="&iacute;";a["238"]="&icirc;";a["239"]="&iuml;";a["240"]="&eth;";a["241"]="&ntilde;";a["242"]="&ograve;";a["243"]= "&oacute;";a["244"]="&ocirc;";a["245"]="&otilde;";a["246"]="&ouml;";a["247"]="&divide;";a["248"]="&oslash;";a["249"]="&ugrave;";a["250"]="&uacute;";a["251"]="&ucirc;";a["252"]="&uuml;";a["253"]="&yacute;";a["254"]="&thorn;";a["255"]="&yuml;"}if(i!=="ENT_NOQUOTES")a["34"]="&quot;";if(i==="ENT_QUOTES")a["39"]="&#39;";a["60"]="&lt;";a["62"]="&gt;";for(b in a){c=String.fromCharCode(b);f[c]=a[b]}return f} function htmlspecialchars_decode(d,e){var a={},f="",b="",c="";b=d.toString();if(false===(a=this.get_html_translation_table("HTML_SPECIALCHARS",e)))return false;for(f in a){c=a[f];b=b.split(c).join(f)}return b=b.split("&#039;").join("'")};

/* number_format (php.js) 906.1806 */
function number_format(a,b,e,f){a=a;b=b;var c=function(i,g){g=Math.pow(10,g);return(Math.round(i*g)/g).toString()};a=!isFinite(+a)?0:+a;b=!isFinite(+b)?0:Math.abs(b);f=typeof f==="undefined"?",":f;e=typeof e==="undefined"?".":e;var d=b>0?c(a,b):c(Math.round(a),b);c=c(Math.abs(a),b);var h;if(c>=1E3){c=c.split(/\D/);h=c[0].length%3||3;c[0]=d.slice(0,h+(a<0))+c[0].slice(h).replace(/(\d{3})/g,f+"$1");d=c.join(e)}else d=d.replace(".",e);a=d.indexOf(e);if(b>=1&&a!==-1&&d.length-a-1<b)d+=(new Array(b-(d.length- a-1))).join(0)+"0";else if(b>=1&&a===-1)d+=e+(new Array(b)).join(0)+"0";return d};

/* empty (php.js) 1006.1915 */
//El segundo parametro es para excluir ceros (0)
function empty(a,b){var c;if(a===""||!b&&(a===0||a==="0")||a===null||a===false||typeof a==="undefined")return true;if(typeof a=="object"){for(c in a)return false;return true}return false};

/* checkdate (php.js) 911.2217 */
function checkdate(a,c,b){return a>0&&a<13&&b>0&&b<32768&&c>0&&c<=(new Date(b,a,0)).getDate()};

/* Autocomplete 1.1 */
(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10,max:options&&!options.scroll?10:150},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},result:function(handler){return this.on("result",handler);},search:function(handler){return this.trigger("search",[handler]);},flushCache:function(){return this.trigger("flushCache");},setOptions:function(options){return this.trigger("setOptions",[options]);},unautocomplete:function(){return this.trigger("unautocomplete");}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&&$(input.form).on("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.on(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){hasFocus=1;lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}break;case KEY.DOWN:event.preventDefault();if(select.visible()){select.next();}else{onChange(0,true);}break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();blockSubmit=true;return false;}break;case KEY.ESC:select.hide();break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(){hasFocus++;}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).on("search",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}if(typeof fn=="function")fn(result);else $input.trigger("result",result&&[result.data,result.value]);}$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).on("flushCache",function(){cache.flush();}).on("setOptions",function(){$.extend(options,arguments[1]);if("data"in arguments[1])cache.populate();}).on("unautocomplete",function(){select.unon();$input.unon();$(input.form).unon(".autocomplete");});function selectCurrent(){var selected=select.selected();if(!selected)return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){var seperator=options.multipleSeparator.length;var cursorAt=$(input).selection().start;var wordAt,progress=0;$.each(words,function(i,word){progress+=word.length;if(cursorAt<=progress){wordAt=i;return false;}progress+=seperator;});words[wordAt]=v;v=words.join(options.multipleSeparator);}v+=options.multipleSeparator;}$input.val(v);hideResultsNow();$input.trigger("result",[selected.data,selected.value]);return true;}function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL){select.hide();return;}var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){$input.addClass(options.loadingClass);if(!options.matchCase)currentValue=currentValue.toLowerCase();request(currentValue,receiveData,hideResultsNow);}else{stopLoading();select.hide();}};function trimWords(value){if(!value)return[""];if(!options.multiple)return[$.trim(value)];return $.map(value.split(options.multipleSeparator),function(word){return $.trim(value).length?$.trim(word):null;});}function lastWord(value){if(!options.multiple)return value;var words=trimWords(value);if(words.length==1)return words[0];var cursorAt=$(input).selection().start;if(cursorAt==value.length){words=trimWords(value)}else{words=trimWords(value.replace(value.substring(cursorAt),""));}return words[words.length-1];}function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$(input).selection(previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){var wasVisible=select.visible();select.hide();clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.search(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}else{$input.val("");$input.trigger("result",null);}}});}};function receiveData(q,data){if(data&&data.length&&hasFocus){stopLoading();select.display(data,q);autoFill(q,data[0].value);select.show();}else{hideResultsNow();}};function request(term,success,failure){if(!options.matchCase)term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),success:function(data){var parsed=options.parse&&options.parse(data)||parse(data);cache.add(term,parsed);success(term,parsed);}});}else{select.emptyList();failure(term);}};function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}return parsed;};function stopLoading(){$input.removeClass(options.loadingClass);};};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(options.matchContains=="word"){i=s.toLowerCase().search("\\b"+sub.toLowerCase());}if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(length>options.cacheLength){flush();}if(!data[q]){length++;}data[q]=value;}function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}setTimeout(populate,25);function flush(){data={};length=0;}return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}return csub;}else if(data[q]){return data[q];}else if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}return null;}};};$.Autocompleter.Select=function(options,input,select,config){var CLASSES={ACTIVE:"ac_over"};var listItems,active=-1,data,term="",needsInit=true,element,list;function init(){if(!needsInit)return;element=$("<div/>").hide().addClass(options.resultsClass).css("position","absolute").appendTo(document.body);list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(CLASSES.ACTIVE).index(target(event));$(target(event)).addClass(CLASSES.ACTIVE);}}).click(function(event){$(target(event)).addClass(CLASSES.ACTIVE);select();input.focus();return false;}).mousedown(function(){config.mouseDownOnSelect=true;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.width>0)element.css("width",options.width);needsInit=false;}function target(event){var element=event.target;while(element&&element.tagName!="LI")element=element.parentNode;if(!element)return[];return element;}function moveSelect(step){listItems.slice(active,active+1).removeClass(CLASSES.ACTIVE);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(CLASSES.ACTIVE);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)continue;var li=$("<li/>").html(options.highlight(formatted,term)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(list)[0];$.data(li,"ac_data",data[i]);}listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(CLASSES.ACTIVE);active=0;}if($.fn.bgiframe)list.bgiframe();}return{display:function(d,q){init();data=d;term=q;fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();listItems&&listItems.removeClass(CLASSES.ACTIVE);active=-1;},visible:function(){return element&&element.is(":visible");},current:function(){return this.visible()&&(listItems.filter("."+CLASSES.ACTIVE)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=$(input).offset();element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).width(),top:offset.top+input.offsetHeight,left:offset.left}).show();if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+CLASSES.ACTIVE).removeClass(CLASSES.ACTIVE);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){list&&list.empty();},unbind:function(){element&&element.remove();}};};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){if(this.createTextRange){var selRange=this.createTextRange();if(end===undefined||start==end){selRange.move("character",start);selRange.select();}else{selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}}else if(this.setSelectionRange){this.setSelectionRange(start,end);}else if(this.selectionStart){this.selectionStart=start;this.selectionEnd=end;}});}var field=this[0];if(field.createTextRange){var range=document.selection.createRange(),orig=field.value,teststring="<->",textLength=range.text.length;range.text=teststring;var caretAt=field.value.indexOf(teststring);field.value=orig;this.selection(caretAt,caretAt+textLength);return{start:caretAt,end:caretAt+textLength}}else if(field.selectionStart!==undefined){return{start:field.selectionStart,end:field.selectionEnd}}};})(jQuery);

/* strpos (php.js) 909.322 */
function strpos(a,c,b){a=(a+"").indexOf(c,b?b:0);return a===-1?false:a};
